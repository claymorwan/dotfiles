@media (-moz-pref("svg.context-properties.content.enabled")) {

  /*FluentUI*/
  @media (not (-moz-pref("cmi-Switch-Icon-Package", 0)))
    and (not (-moz-pref("cmi-Switch-Icon-Package", 2))) {

  .subviewbutton {
    -moz-context-properties: fill, fill-opacity !important;
    fill: currentColor !important;
  }

  :not(:not(menubar) > menu, #ContentSelectDropdown)
    > #cmi-show-more-menupopup, #cmi-show-more-menupopup-tab > menuitem,
  :not(:not(menubar) > menu, #ContentSelectDropdown)
    > menupopup
    > menuitem:not(
      .menuitem-iconic,
      [type="checkbox"],
      [type="radio"],
      .in-menulist,
      .in-menulist menuitem,
      .unified-nav-current
    ),
  :not(:not(menubar) > menu, #ContentSelectDropdown)
    > #cmi-show-more-menupopup, #cmi-show-more-menupopup-tab, menupopup
    > menu:not(
      .menu-iconic,
      [type="checkbox"],
      [type="radio"],
      .in-menulist,
      .in-menulist menu,
      .unified-nav-current
    ),
  #toggle_toolbar-menubar,
  #PanelUI-history toolbarbutton,
  #unified-extensions-context-menu {
    background-image: var(--menu-image) !important;
    background-size: 16px !important;
    background-position: var(--fp-contextmenu-menuitem-padding-inline) center !important;
    background-repeat: no-repeat !important;
    -moz-context-properties: fill, fill-opacity !important;
    fill: currentColor !important;
  }  
  menuitem.sine-moved,
  menuitem[id$="-sine-clone"],
  menuitem[class*="sine"] {
      background-image: var(--menu-image) !important;
      background-size: 16px !important;
      background-position: var(--fp-contextmenu-menuitem-padding-inline) center !important;
      background-repeat: no-repeat !important;
      -moz-context-properties: fill, fill-opacity !important;
      fill: currentColor !important;
  }  
      
      #back-button {
        list-style-image: url("arrow-left.svg") !important;
      }
      
      #forward-button {
        list-style-image: url("arrow-right.svg") !important;
      }
      #node-menu-scrollnodeintoview,
      #cMenu_findAgain {
        --menu-image: url("arrow-down.svg");
      }
      #se-menu-gotoLine {
        --menu-image: url("arrow-right.svg");
      }
      #reload-button {
        list-style-image: url("reload.svg") !important;
      }
      .close-icon,
      #stop-button {
        list-style-image: url("close.svg") !important;
      }
      
      #sidebar-button {
        list-style-image: url("sidebars-right.svg") !important;
      }
      
      #sidebar-button:-moz-locale-dir(ltr):not([positionend]),
      #sidebar-button:-moz-locale-dir(rtl)[positionend] {
        list-style-image: url("sidebars.svg") !important;
      }
      
      #nav-bar-overflow-button {
        list-style-image: url("chevron.svg") !important;
      }
      
      #PanelUI-menu-button {
        list-style-image: url("menu.svg") !important;
      }
      
      #new-tab-button {
        list-style-image: url("new-tab.svg") !important;
      }
      
      #sync-button,
      .urlbarView-row[source="tabs"]
        > .urlbarView-row-inner
        > .urlbarView-no-wrap
        > .urlbarView-favicon,
      #urlbar-engine-one-off-item-tabs {
        list-style-image: url("tab.svg") !important;
      }
      
      #history-panelmenu,
      .urlbarView-row[source="history"]
        > .urlbarView-row-inner
        > .urlbarView-no-wrap
        > .urlbarView-favicon,
      #urlbar-engine-one-off-item-history,
      #sidebar-box[sidebarcommand="viewHistorySidebar"]
        > #sidebar-header
        > #sidebar-switcher-target
        > #sidebar-icon {
        list-style-image: url("history.svg") !important;
      }
      
      #save-page-button {
        list-style-image: url("save.svg") !important;
      }
      
      #print-button {
        list-style-image: url("print.svg") !important;
      }
      
      .searchbar-search-icon {
        list-style-image: url("search-glass.svg") !important;
      }
      
      #find-button {
        list-style-image: url("search-page.svg") !important;
      }
      
      #open-file-button {
        list-style-image: url("open.svg") !important;
      }
      
      #zoom-out-button {
        list-style-image: url("zoom-out.svg") !important;
      }
      
      #zoom-in-button,
      #tabs-newtab-button,
      #TabsToolbar #new-tab-button {
        list-style-image: url("plus.svg") !important;
      }
      
      #cut-button {
        list-style-image: url("edit-cut.svg") !important;
      }
      
      #copy-button {
        list-style-image: url("edit-copy.svg") !important;
      }
      
      #paste-button {
        list-style-image: url("edit-paste.svg") !important;
      }
      
      #email-link-button {
        list-style-image: url("mail.svg") !important;
      }
      
      #screenshot-button {
        list-style-image: url("screenshot.svg") !important;
      }
      
      .search-setting-button > .button-box > .button-icon,
      .unified-extensions-item-open-menu.subviewbutton,
      #preferences-button {
        list-style-image: url("settings.svg") !important;
      }
      
      #spell-check-enabled {
        --menu-image: url("spell-check.svg");
      }
      #panic-button {
        list-style-image: url("forget.svg") !important;
      }
      
      #privatebrowsing-button {
        list-style-image: url("privateBrowsing.svg") !important;
      }
      
      #save-to-pocket-button {
        list-style-image: url("pocket-outline.svg") !important;
      }
      
      #profiler-button-button > .toolbarbutton-icon,
      .subviewbutton[label="Task Manager"] {
        list-style-image: url("tool-profiler.svg") !important;
      }
      
      #developer-button {
        list-style-image: url("manage.svg") !important;
      }
      
      #new-window-button {
        list-style-image: url("window.svg") !important;
      }
      
      #restore-button,
      #fullscreen-button {
        list-style-image: url("fullscreen.svg") !important;
      }
      
      #restore-button[checked],
      #fullscreen-button[checked] {
        list-style-image: url("fullscreen-exit.svg") !important;
      }
      
      #bookmarks-menu-button,
      #sidebar-box[sidebarcommand="viewBookmarksSidebar"]
        > #sidebar-header
        > #sidebar-switcher-target
        > #sidebar-icon {
        list-style-image: url("bookmark-star-on-tray.svg") !important;
      }
      
      /* identity icons */
      #identity-icon {
        list-style-image: url("info.svg") !important;
      }

      #identity-box[pageproxystate="valid"].localResource #identity-icon {
        list-style-image: url("page-portrait.svg") !important;
      }
      
      #urlbar:not(.searchButton)
        > #urlbar-input-container
        > #identity-box[pageproxystate="invalid"]
        #identity-icon {
        list-style-image: url("search-glass.svg") !important;
      }
      
      #urlbar[actiontype="extension"]
        > #urlbar-input-container
        > #identity-box
        #identity-icon,
      #identity-box[pageproxystate="valid"].extensionPage #identity-icon {
        list-style-image: url("extension.svg") !important;
      }
      
      #identity-box[pageproxystate="valid"].verifiedDomain #identity-icon,
      #identity-box[pageproxystate="valid"].mixedActiveBlocked #identity-icon {
        list-style-image: url("security.svg") !important;
      }
      
      #urlbar-input-container[pageproxystate="valid"]
        > #tracking-protection-icon-container
        > #tracking-protection-icon-box
        > #tracking-protection-icon {
        list-style-image: url("tracking-protection.svg") !important;
      }
      
      /* security */
      .identity-popup-security-connection {
        list-style-image: url("security-broken.svg") !important;
      }
      
      #identity-box[pageproxystate="valid"].notSecure #identity-icon,
      #identity-box[pageproxystate="valid"].mixedActiveContent #identity-icon,
      #identity-box[pageproxystate="valid"].httpsOnlyErrorPage #identity-icon {
        list-style-image: url("security-broken.svg") !important;
      }
    
      #identity-popup[connection="file"] .identity-popup-security-connection {
        list-style-image: url("page-portrait.svg") !important;
      }
      
      #identity-popup[connection^="secure"] .identity-popup-security-connection {
        list-style-image: url("security.svg") !important;
      }
      
      #identity-popup[ciphers="weak"] .identity-popup-security-connection,
      #identity-popup[mixedcontent~="passive-loaded"][isbroken]
        .identity-popup-security-connection,
      #identity-popup[connection="secure-cert-user-overridden"]
        .identity-popup-security-connection,
      #identity-popup[connection="cert-error-page"]
        .identity-popup-security-connection {
        list-style-image: url("security-warning.svg") !important;
      }
      
      #identity-popup[connection="net-error-page"]
        .identity-popup-security-connection {
        list-style-image: url("info.svg") !important;
      }
      
      #identity-popup[connection="extension"] .identity-popup-security-connection {
        list-style-image: url("extension.svg") !important;
      }
      
      .findbar-find-previous {
        list-style-image: url("arrow-up.svg") !important;
      }
      
      .findbar-find-next {
        list-style-image: url("arrow-down.svg") !important;
      }
      
      #protections-popup-mainView .subviewbutton-nav:not(.notFound)::after,
      #identity-popup-mainView .subviewbutton-nav::after,
      .widget-overflow-list .subviewbutton-nav::after,
      .PanelUI-subView .subviewbutton-nav::after,
      .menu-right {
        content: url("arrow-right.svg") !important;
      }
      
      #PlacesChevron,
      #urlbar-go-button {
        list-style-image: url("arrow-right.svg") !important;
      }
      
      .panel-header > .subviewbutton-back {
        list-style-image: url("arrow-left.svg") !important;
      }
      
      #overflowMenu-customize-button,
      #appmenu-moreTools-button {
        list-style-image: url("customize.svg") !important;
      }      
      
      #zen-copy-url-button > .urlbar-icon {
        background-position: center !important; 
        list-style-image:  url("link.svg") !important;
      }
      #translations-button-icon {
        background-position: center !important; 
        list-style-image:  url("translations.svg") !important;      
      }
      
      #pageAction-panel-bookmark,
      #star-button {
        list-style-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNyIgaGVpZ2h0PSIxNyIgdmlld0JveD0iMCAwIDE2IDE2IiBmaWxsPSJjb250ZXh0LWZpbGwiIGZpbGwtb3BhY2l0eT0iY29udGV4dC1maWxsLW9wYWNpdHkiPjxwYXRoIGQ9Ik04LjAwMTMsMS4xNzg4Yy0uMzQtLjAwMjYtLjY1MTIuMTkwNC0uNzk5OS40OTYxbC0xLjcxOTEsMy40ODU1LTMuODQ0NS41NTg1Yy0uNDg2OC4wNzA3LS44MjQyLjUyMjctLjc1MzUsMS4wMDk1LjAyODEuMTkzNi4xMTkyLjM3MjUuMjU5MS41MDkybDIuNzgxOCwyLjcxMjMtLjY1NTYsMy44MzAyYy0uMDgyMy40ODUuMjQ0Mi45NDQ5LjcyOTMsMS4wMjcxLjE5MjEuMDMyNi4zODk3LjAwMTMuNTYyMy0uMDg5MmwzLjQ0MDEtMS44MDczLDMuNDM3NCwxLjgwODJjLjQzNTYuMjI4Ni45NzQxLjA2MDcsMS4yMDI2LS4zNzQ5LjA5MTEtLjE3MzcuMTIyNC0uMzcyNS4wODg5LS41NjU4bC0uNjU1Ni0zLjgyOTMsMi43ODE4LTIuNzEyM2MuMzUyLS4zNDM3LjM1ODctLjkwNzYuMDE1MS0xLjI1OTYtLjEzNjUtLjEzOTgtLjMxNTItLjIzMDktLjUwODUtLjI1OTFsLTMuODQ0NS0uNTU4NS0xLjcxOTEtMy40ODQ2Yy0uMTQ4NC0uMzA1OS0uNDU5OS0uNDk4Ny0uNzk5OS0uNDk1M2wuMDAxOC0uMDAwOVpNOC4wMDEzLDIuMDY5NWwxLjcxOTEsMy40ODI4Yy4xMy4yNjM3LjM3OTUuNDQ1NC42Njk4LjQ4ODFsMy44NDYyLjU2MDMtMi43ODM2LDIuNzEwNWMtLjIxMDIuMjA0OS0uMzA1NS41MDA2LS4yNTU2Ljc4OTJsLjY1NzQsMy44MzAyLTMuNDM4My0xLjgwODJjLS4yNTk5LS4xMzY1LS41NzAzLS4xMzY1LS44MzAyLDBsLTMuNDM4MywxLjgwODIuNjU2NS0zLjgzMDJjLjA0OTUtLjI4OTEtLjA0NjEtLjU4NC0uMjU1Ni0uNzg5MmwtMi43ODE4LTIuNzEwNSwzLjg0NDUtLjU2MTJjLjI4OTctLjA0MTkuNTQwMy0uMjIzOC42Njk4LS40ODYzbDEuNzItMy40ODM3WiIvPjwvc3ZnPg==") !important;
      }

      #pageAction-panel-bookmark[starred],
      #star-button[starred] {
        list-style-image: url("data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2217%22%20height%3D%2217%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22context-fill%22%20fill-opacity%3D%22context-fill-opacity%22%3E%3Cpath%20d%3D%22M8.0013%2C1.1788c-.34-.0026-.6512.1904-.7999.4961l-1.7191%2C3.4855-3.8445.5585c-.4868.0707-.8242.5227-.7535%2C1.0095.0281.1936.1192.3725.2591.5092l2.7818%2C2.7123-.6556%2C3.8302c-.0823.485.2442.9449.7293%2C1.0271.1921.0326.3897.0013.5623-.0892l3.4401-1.8073%2C3.4374%2C1.8082c.4356.2286.9741.0607%2C1.2026-.3749.0911-.1737.1224-.3725.0889-.5658l-.6556-3.8293%2C2.7818-2.7123c.352-.3437.3587-.9076.0151-1.2596-.1365-.1398-.3152-.2309-.5085-.2591l-3.8445-.5585-1.7191-3.4846c-.1484-.3059-.4599-.4987-.7999-.4953l.0018-.0009Z%22%2F%3E%3C%2Fsvg%3E") !important;
      }
      
      #zen-site-data-icon-button >image { 
        list-style-image: url("permissions.svg") !important;
        background-position: center !important;
      }
      #zen-site-data-icon-button:is([starred],:active,:hover:active, [open])  >image {
        list-style-image: url("permissions-fill.svg") !important;
        background-position: center !important;
      }
      
      #sidebar-box[sidebarcommand="viewTabsSidebar"]
        > #sidebar-header
        > #sidebar-switcher-target
        > #sidebar-icon {
        list-style-image: url("send-to-device.svg") !important;
      }
      
      /* tab icons */
      .tab-icon-image[src="chrome://branding/content/icon32.png"],
      .tab-icon-image[src="chrome://browser/skin/privatebrowsing/favicon.svg"] {
        content: url("new-tab-image.svg") !important;
      }
      
      .tab-icon-image[src="chrome://global/skin/icons/settings.svg"] {
        content: url("settings.svg") !important;
      }
      
      .tab-icon-image[src="chrome://mozapps/skin/extensions/extension.svg"] {
        content: url("extension.svg") !important;
      }
      
      .tab-icon-image[src="chrome://browser/skin/customize.svg"] {
        content: url("customize.svg") !important;
      }
      
      /* permissions */
      #permissions-granted-icon {
        list-style-image: url("permissions.svg") !important;
      }
      
      .geo-icon {
        list-style-image: url("geo.svg") !important;
      }
      
      .geo-icon.blocked-permission-icon {
        list-style-image: url("geo-blocked.svg") !important;
      }
      
      .xr-icon {
        list-style-image: url("xr.svg") !important;
      }
      
      .xr-icon.blocked-permission-icon {
        list-style-image: url("xr-blocked.svg") !important;
      }
      
      .popup-notification-icon[popupid="web-notifications"],
      .desktop-notification-icon {
        list-style-image: url("desktop-notification.svg") !important;
      }
      
      .desktop-notification-icon.blocked-permission-icon {
        list-style-image: url("desktop-notification-blocked.svg") !important;
      }
      
      .camera-icon {
        list-style-image: url("camera.svg") !important;
      }
      
      .camera-icon.blocked-permission-icon {
        list-style-image: url("camera-blocked.svg") !important;
      }
      
      .microphone-icon {
        list-style-image: url("microphone.svg") !important;
      }
      
      .microphone-icon.blocked-permission-icon {
        list-style-image: url("microphone-blocked.svg") !important;
      }
      
      .screen-icon {
        list-style-image: url("screen.svg") !important;
      }
      
      .screen-icon.blocked-permission-icon {
        list-style-image: url("screen-blocked.svg") !important;
      }
      
      .popup-notification-icon[popupid="persistent-storage"],
      .persistent-storage-icon,
      .indexedDB-icon {
        list-style-image: url("persistent-storage.svg") !important;
      }
      
      .persistent-storage-icon.blocked-permission-icon {
        list-style-image: url("persistent-storage-blocked.svg") !important;
      }
      
      .popup-icon {
        list-style-image: url("popup.svg") !important;
      }
      
      .autoplay-media-icon {
        list-style-image: url("autoplay-media.svg") !important;
      }
      
      .autoplay-media-icon.blocked-permission-icon {
        list-style-image: url("autoplay-media-blocked.svg") !important;
      }
      
      #canvas-notification-icon,
      .popup-notification-icon[popupid="canvas-permissions-prompt"],
      .canvas-icon {
        list-style-image: url("canvas.svg") !important;
      }
      
      .canvas-icon.blocked-permission-icon {
        list-style-image: url("canvas-blocked.svg") !important;
      }
      
      .midi-icon,
      .midi-sysex-icon,
      .popup-notification-icon[popupid="midi"],
      .popup-notification-icon[popupid="midi-sysex"] {
        list-style-image: url("midi-blocked.svg") !important;
      }
      
      .install-icon {
        list-style-image: url("extension.svg") !important;
      }
      
      .install-icon.blocked-permission-icon,
      .popup-notification-icon[popupid="xpinstall-disabled"],
      .popup-notification-icon[popupid="addon-install-blocked"],
      .popup-notification-icon[popupid="addon-install-origin-blocked"] {
        list-style-image: url("extension-blocked.svg") !important;
      }
      
      #unified-extensions-manage-extensions {
        list-style-image: url("manage.svg") !important;
      }
    
      /* reload/stop animation */
    @media (-moz-pref("cmi-Switch-Gecko-Branch", 0)) {
      #stop-reload-button[animate]
        > #reload-button[displaystop]
        + #stop-button 
        > .toolbarbutton-animatable-box
        > .toolbarbutton-animatable-image {
        background-image: url("reload-to-stop.svg") !important;
      }
    
      #stop-reload-button[animate]
        > #reload-button
        > .toolbarbutton-animatable-box
        > .toolbarbutton-animatable-image {
        background-image: url("stop-to-reload.svg") !important;
      }
    }
      /* Context Menu Icons */
      menupopup > menuitem:is([checked="true"], [selected="true"]) .menu-iconic-icon {
        list-style-image: url("checkmark.svg") !important;
      }
  /*   （v1.9.4)    
      #context-video-pictureinpicture:not([checked="true"]) .menu-iconic-icon {
        list-style-image: url("media-pip.svg") !important;
      }
      
      #context-media-loop:not([checked="true"]) .menu-iconic-icon {
        list-style-image: url("media-loop.svg") !important;
      }
  */ 
      #context-video-pictureinpicture {
        --menu-image: url("media-pip.svg");
      }   
      #context-media-loop,
      #request-list-context-resend-only,
      #request-list-context-edit-resend {
        --menu-image: url("media-loop.svg");
      }

      #context-savepage {
        --menu-image: url("save.svg");
      }
      
      #context-selectall,
      #context_selectAllTabs,
      #toolbar-context-selectAllTabs {
        --menu-image: url("edit-select-all.svg");
      }
      
      #context-undo,
      #context_undoCloseTab,
      #toolbar-context-undoCloseTab {
        --menu-image: url("edit-undo.svg");
      }
      
      #context_unloadTab,
      #context_zenUnloadWorkspace {
        --menu-image: url("unloadTab.svg");
      }
      
      #viewColumns,
      #toggle_toolbar-menubar {
        --menu-image: url("menu-bar.svg");
      }
      
      #context-redo {
        --menu-image: url("edit-redo.svg");
      }
      
      #context-copy,
      .textbox-contextmenu #strip-on-share,
      #placesContext_copy,
      menu:has(#node-menu-copyinner,#request-list-context-copy-url),
      #context-copyurl,
      #console-menu-copy,
      #console-menu-copy-object,
      #console-menu-export-clipboard,
      #node-menu-copy-source-url,
      #node-menu-copy-to-clipboard,
      #variable-view-popup-copy {
        --menu-image: url("edit-copy.svg");
      }
      
      #context-paste,
      #placesContext_paste_group {
        --menu-image: url("edit-paste.svg");
      }
      #placesContext_paste,
      #context-paste-no-formatting,
      menu:has(#node-menu-pasteinnerhtml) {
        --menu-image: url("edit-paste.svg");
      }      
      .textbox-contextmenu menuitem.searchbar-paste-and-search {
        --menu-image: url("edit-paste.svg");
      }

      #context-cut,
      #placesContext_cut {
        --menu-image: url("edit-cut.svg");
      }

      #placesContext_open,
      #context-openlinkincurrent,
      #context-zenOpenLinkInGlance {
        --menu-image: url("ext-link.svg");
      }      
      
      #placesContext_showInFolder {
        --menu-image: url("folder-open.svg");
      }

      #viewSort,
      #placesContext_sortBy\:name {
          --menu-image: url("sort.svg");
      }
      #context-delete,
      .customize-context-removeExtension,
      #pageActionContextMenuRemoveExtension,
      .unified-extensions-context-menu-remove-extension,
      menuitem[id="placesContext_deleteBookmark"],
      menuitem[id="placesContext_deleteFolder"],
      menuitem[id="placesContext_delete"],
      menuitem[id="placesContext_delete_history"],
      menuitem[id="placesContext_deleteHost"],
      .textbox-contextmenu menuitem.searchbar-clear-history,
      #placesContext_removeTag,
      #node-menu-delete,
      #storage-table-popup-delete,
      #storage-table-popup-delete-all-from,
      #storage-table-popup-delete-all,
      #storage-table-popup-delete-all-session-cookies,
      #storage-tree-popup-delete-all,
      #storage-tree-popup-delete-all-session-cookies {
        --menu-image: url("edit-delete.svg");
      }
      
      #paste-and-go {
        --menu-image: url("paste-and-go.svg");
      }
      
      #context-print-selection {
        --menu-image: url("print.svg");
      }
      
      #context-take-screenshot,
      #node-menu-screenshotnode {
        --menu-image: url("screenshot.svg");
      }
      
      #context-ask-chat,
      #context_askChat {
        --menu-image: url("AI-chat.svg");
      }
      #context-previewlink {
        --menu-image: url("AI-summarize.svg");
      }
      
      #context-viewsource {
        --menu-image: url("source-code.svg");
      }
      
      #context-inspect-a11y {
        --menu-image: url("accessibility.svg");
      }
      
      #context-inspect,
      #request-list-context-use-as-fetch {
        --menu-image: url("inspect.svg");
      }
      
      #context-searchselect,
      #context-visual-search {
        --menu-image: url("search-glass.svg");
      }
      #context-searchselect-private {
          --menu-image: url("search-glass.svg");
      }

      #context-add-engine {
        --menu-image: url("search-add.svg");
      }

      #context-translate-selection {
          --menu-image: url("translations.svg");
      }
      #context-viewimage {
        --menu-image: url("image-open.svg");
      }
      #context-viewimageinfo {
        --menu-image: url("info.svg");
      }
      #context-saveimage,
      #context-video-saveimage {
        --menu-image: url("image-save.svg");
      }
      
      #context-savevideo {
        --menu-image: url("video-save.svg");
      }
      
      #context-viewvideo {
        --menu-image: url("video-open.svg");
      }
      
      #context-saveaudio {
        --menu-image: url("audio-save.svg");
      }
      
      #context-copyimage-contents {
        --menu-image: url("image-copy.svg");
      }
      
      #context-copyimage,
      #context-copyvideourl,
      #context-copylink,
      #context-copy-link-to-highlight,
      #context-copy-clean-link-to-highlight,      
      #context-stripOnShareLink,
      #context-pdfjs-copy {
        --menu-image: url("link.svg");
      }
      
      #context-viewsource,
      #context-viewframesource,
      #context-viewpartialsource-selection {
        --menu-image: url("source-code.svg");
      }
      
      #context-sendimage,
      #context-sendvideo,
      #context-sendaudio {
        --menu-image: url("mail.svg");
      }
      
      #context-setDesktopBackground,
      #toolbar-context-customize,
      #toolbar-context-customize-sidebar {
        --menu-image: url("customize.svg");
      }
      
      #context-reloadimage,
      #context_reloadTab,
      #context_reloadSelectedTabs,
      #toolbar-context-reloadSelectedTab,
      #toolbar-context-reloadSelectedTabs {
        --menu-image: url("reload.svg");
      }
      
      #context-sendlinktodevice,
      #context_sendTabToDevice,
      #context-sendpagetodevice {
        --menu-image: url("send-to-device.svg");
      }
      
      #context-openlinkintab,
      #context-openlinkincontainertab,
      menuitem[id="placesContext_open:newtab"],
      menuitem[id="placesContext_openLinks:tabs"],
      menuitem[id="placesContext_openBookmarkLinks:tabs"],
      menuitem[id="placesContext_openBookmarkContainer:tabs"],
      #placesContext_openContainer\:tabs,
      .openintabs-menuitem,
      #context-openlinknewtab,
      #request-list-context-newtab {
        --menu-image: url("tab.svg");
      }
      
      #context_openANewTab,
      #toolbar-context-openANewTab {
        --menu-image: url("new-tab-image.svg");
      }
      
      #context_moveTabToGroup,
      #context_moveTabToNewGroup {
        --menu-image: url("TabGroup-add.svg");
      }
        
      #context_ungroupTab {
        --menu-image: url("TabGroup-remove.svg");
      }
      
      #context-openlinkinusercontext-menu,
      menu[id="placesContext_open:newcontainertab"],
      menu[id="placesContext_openContainer:tabs"] {
        --menu-image: url("container-tab.svg");
      }
      
      #context-openlink,
      menuitem[id="placesContext_open:newwindow"] {
        --menu-image: url("window.svg");
      }
      
      #context-openlinkprivate,
      menuitem[id="placesContext_open:newprivatewindow"] {
        --menu-image: url("private-window.svg");
      }
      
      #context-savelink,
      #request-list-context-save-as-har,
      #request-list-context-save-all-as-har,
      #request-list-context-save-response-as {
        --menu-image: url("downloads.svg");
      }
      
      #spell-add-to-dictionary,
      #spell-add-dictionaries,
      #spell-dictionaries {
        --menu-image: url("add-to-dictionary.svg");
      }
      
      #manage-saved-logins {
        --menu-image: url("passwords.svg");
      }
      
      #context-media-play,
      #context_playTab,
      #context_playSelectedTabs {
        --menu-image: url("media-play.svg");
      }
      
      #context-media-pause {
        --menu-image: url("media-pause.svg");
      }
      
      #context-media-mute,
      #context_toggleMuteTab,
      #context_toggleMuteSelectedTabs {
        --menu-image: url("media-mute.svg");
      }
      
      #context-media-unmute,
      #context_toggleMuteTab[muted],
      #context_toggleMuteSelectedTabs[muted] {
        --menu-image: url("media-unmute.svg");
      }
      
      #context-media-playbackrate,
      #context-media-playbackrate,
      #request-list-context-perf {
        --menu-image: url("media-speed.svg");
      }
      
      #context-video-fullscreen {
        --menu-image: url("fullscreen.svg");
      }
      
      #context-leave-dom-fullscreen,
      menuitem[contexttype="fullscreen"][label*="Exit"] {
        --menu-image: url("fullscreen-exit.svg");
      }
      
      #context-media-hidecontrols,
      #context-media-showcontrols {
        --menu-image: url("permissions.svg");
      }
      
      #context_pinTab,
      #context_pinSelectedTabs,
      .customize-context-moveToPanel {
        --menu-image: url("pin.svg"); 
      }
      
      #context_unpinTab,
      #context_unpinSelectedTabs {
        --menu-image: url("unpin.svg"); 
      }
      .customize-context-removeFromToolbar {
        --menu-image: url("unpin.svg");
      }
      #context_duplicateTab,
      #context_duplicateTabs {
        --menu-image: url("duplicate-tab.svg");
      }
      
      #context_bookmarkTab,
      #context_bookmarkSelectedTabs,
      #toggle_PersonalToolbar,
      #context-bookmarklink,
      #toolbar-context-bookmarkSelectedTab,
      #toolbar-context-bookmarkSelectedTabs,
      #placesContext_createBookmark {
        --menu-image: url("bookmark-hollow.svg");
      }
      
      menuitem[id="placesContext_show_bookmark:info"],
      menuitem[id="placesContext_show_folder:info"],
      menuitem[id="placesContext_show:info"],
      #node-menu-edithtml {
        --menu-image: url("edit.svg");
      }
      
      menuitem[id="placesContext_showAllBookmarks"],
      #BMB_bookmarksShowAllTop,
      #BMB_bookmarksShowAll,
      .customize-context-manageExtension,
      #pageActionContextMenuManageExtension,
      .unified-extensions-context-menu-manage-extension {
        --menu-image: url("manage.svg");
      }
      #BMB_viewBookmarksSidebar {
        --menu-image: url("sidebars.svg");
      }
      #BMB_searchBookmarks,
      #se-menu-find {
        --menu-image: url("search-page.svg");
      }
      
      #PanelUI-historyMore {
        --menu-image: url("manage.svg");
      }
      
      menuitem[id="placesContext_new:bookmark"],
      menuitem[id="placesContext_new:folder"],
      menuitem[id="placesContext_new:separator"],
      #newbookmark,
      #newfolder,
      #newseparator,
      #node-menu-add {
        --menu-image: url("plus.svg");
      }
      
      #context-savelinktopocket,
      #context-pocket {
        --menu-image: url("pocket-outline.svg");
      }
      
      #context_moveTabOptions {
        --menu-image: url("move-tab.svg");
      }
      
      .share-tab-url-item {
        --menu-image: url("share.svg");
      }
      
      #context_reopenInContainer {
        --menu-image: url("container-tab.svg");
      }
      
      #context_closeTab,
      #context_closeDuplicateTabs,
      #orgClose,
      #sidebar-menu-close {
        --menu-image: url("close.svg");
      }
      #context_closeTabOptions {
        --menu-image: url("close-all.svg");
      }
      .customize-context-reportExtension,
      .unified-extensions-context-menu-report-extension {
        --menu-image: url("report.svg");
      }
      
      /* FluentUI: Sidebar Menu Icons */
      #sidebar-switcher-bookmarks {
        --menu-image: url("bookmark-star-on-tray.svg");
      }
      #sidebar-switcher-history {
        --menu-image: url("history.svg");
      }
      #sidebar-switcher-tabs {
        --menu-image: url("send-to-device.svg");
      }
      #sidebar-switcher-megalist {
        --menu-image: url("passwords.svg");
      }
      /* FluentUI: App Menu Icons */
      #appMenu-downloads-button,
      #appMenu-library-downloads-button {
        list-style-image: url("downloads.svg") !important;
      } 
      #appMenu-translate-button {
        list-style-image: url("translations.svg") !important;
      }  
      #appMenu-zoom-controls {
        list-style-image: url("plus.svg") !important;
      }   
      #appMenu-passwords-button,
      #password-notification-icon {
        list-style-image: url("passwords.svg") !important;
      }   
      #appMenu-more-button2 {
        list-style-image: url("menu.svg") !important;
      }   
      #appMenu-help-button2 {
        list-style-image: url("help.svg") !important;
      }   
      #appMenu-quit-button2 {
        list-style-image: url("close.svg") !important;
      }
      #appMenu-report-broken-site-button {
        list-style-image: url("report.svg") !important;
      } 
      #appMenu-history-button,
      #appMenu-library-history-button {
        list-style-image: url("history.svg") !important;
      }   
      #appMenu-save-file-button2 {
        list-style-image: url("save.svg") !important;
      }
      #appMenu-print-button2 {
        list-style-image: url("print.svg") !important;
      }
      #appMenu-find-button2 {
        list-style-image: url("search-page.svg") !important;
      }   
      #appMenu-extensions-themes-button {
        list-style-image: url("extension.svg") !important;
      }   
      #appMenu-zoomReduce-button2 {
        list-style-image: url("zoom-out.svg") !important;
      }    
      #appMenu-zoomEnlarge-button2 {
        list-style-image: url("plus.svg") !important;
      }    
      #appMenu-new-window-button2 {
        list-style-image: url("window.svg") !important;
      }    
      #appMenu-new-private-window-button2 {
        list-style-image: url("private-window.svg") !important;
      }     
      #appMenu-fullscreen-button2 {
        list-style-image: url("fullscreen.svg") !important;
      }
      #appMenu-fullscreen-button2[checked] {
        list-style-image: url("fullscreen-exit.svg") !important;
      }   
      #appMenu-bookmarks-button,
      #appMenu-library-bookmarks-button {
        list-style-image: url("bookmark-star-on-tray.svg") !important;
      }   
      #appMenu-new-tab-button2 {
        list-style-image: url("new-tab-image.svg") !important;
      }

      #downloads-button,
      #downloads-indicator-anchor {
      list-style-image: url("downloads.svg") !important;
      }
      
      #appMenu-settings-button {
        list-style-image: url("settings.svg") !important;
      }

      #library-button {
        list-style-image: url("library.svg") !important;
      }
      #home-button {
        list-style-image: url("home.svg") !important;
      }
      #add-ons-button,
      #unified-extensions-button {
        list-style-image: url("extension.svg") !important;
      }
   
    /* Account */  
    #fxa-manage-account-button {
      background-image: url('chrome://browser/skin/fxa/avatar-empty.svg') !important;
      background-repeat: no-repeat !important;

      background-size: 16px !important;
      background-position: 10px center !important;

      -moz-context-properties: fill, fill-opacity !important;
      fill: currentColor !important;
    }
    #PanelUI-fxa-menu-syncnow-button {
      background-image: url('media-loop.svg') !important;
      background-repeat: no-repeat !important;

      background-size: 16px !important;
      background-position: 10px center !important;

      -moz-context-properties: fill, fill-opacity !important;
      fill: currentColor !important;
    }
    #PanelUI-fxa-menu-connect-device-button {
      list-style-image: url('link.svg') !important;
    }
    #PanelUI-fxa-menu-sendtab-button {
      list-style-image: url('send-to-device.svg') !important;
    }
    #PanelUI-fxa-menu-sync-prefs-button {
      list-style-image: url('settings.svg') !important;
    }
    #PanelUI-fxa-menu-account-signout-button {
      list-style-image: url('chrome://browser/skin/import.svg') !important;
    }
    toolbarbutton[data-l10n-id="appmenu-remote-tabs-show-inactive-tabs"] {
      background-image: url('unloadTab.svg') !important;
      background-repeat: no-repeat !important;

      background-size: 16px !important;
      background-position: 14px center !important;

      -moz-context-properties: fill, fill-opacity !important;
      fill: currentColor !important;
      
    }
    
    toolbarbutton[data-l10n-id="appmenu-remote-tabs-showmore"] {
      background-image: url('menu.svg') !important;
      background-repeat: no-repeat !important;

      background-size: 16px !important;
      background-position: 14px center !important;

      -moz-context-properties: fill, fill-opacity !important;
      fill: currentColor !important;
    }
    :is(toolbarbutton[data-l10n-id="appmenu-remote-tabs-show-inactive-tabs"],
     toolbarbutton[data-l10n-id="appmenu-remote-tabs-showmore"])
    >.toolbarbutton-icon+.toolbarbutton-text {
      padding-inline-start: 36px !important;
    }

    #panelMenuBookmarkThisPage {
      list-style-image: url("bookmark-hollow.svg") !important;
    }
    #panelMenu_searchBookmarks {
      list-style-image: url("search-glass.svg") !important;
    }
    #panelMenu_viewBookmarksToolbar {
      list-style-image: url("bookmark-star-on-tray.svg") !important;
    }

    #appMenuRecentlyClosedTabs {
      list-style-image: url("container-tab.svg") !important;
    }
    #appMenuRecentlyClosedWindows {
      list-style-image: url("window.svg") !important;
    }    
    #appMenuSearchHistory {
      list-style-image: url("search-glass.svg") !important;
    }
    #appMenuClearRecentHistory {
      list-style-image: url("edit-delete.svg") !important;
    }

    /* Tools */
    #appmenu-developer-tools-view > toolbarbutton:nth-child(1) {
      list-style-image: url('manage.svg') !important;
    }
    #appmenu-developer-tools-view > toolbarbutton:nth-child(2) {
      list-style-image: url('media-speed.svg') !important;
    }
    #appmenu-developer-tools-view > toolbarbutton:nth-child(3) {
      list-style-image: url('manage.svg') !important;
    }
    #appmenu-developer-tools-view > toolbarbutton:nth-child(4) {
      list-style-image: url('permissions.svg') !important;
    }
    #appmenu-developer-tools-view > toolbarbutton:nth-child(5) {
      list-style-image: url('inspect.svg') !important;
    }    
    #appmenu-developer-tools-view > toolbarbutton:nth-child(6) {
      list-style-image: url('edit-cut.svg') !important;
    }       
    #appmenu-developer-tools-view > toolbarbutton:nth-child(7) {
      list-style-image: url('color.svg') !important;
    }        
    #appmenu-developer-tools-view > toolbarbutton:nth-child(8) {
      list-style-image: url('source-code.svg') !important;
    }    
    #appmenu-developer-tools-view > toolbarbutton:nth-child(9) {
      list-style-image: url('extension.svg') !important;
    }
    
    
    #appMenu_feedbackPage {
      list-style-image: url('share.svg') !important;
    }
    #appMenu_helpSafeMode {
      list-style-image: url('search-page.svg') !important;
    }
    #appMenu_troubleShooting {
      list-style-image: url('info.svg') !important;
    }
    #appMenu_menu_HelpPopup_reportPhishingtoolmenu {
      list-style-image: url('report.svg') !important;
    }
    #appMenu_helpSwitchDevice {
      list-style-image: url('send-to-device.svg');
    }
    #appMenu_aboutName {
      list-style-image: url('help.svg') !important;
    }
    /* Panel Header Icons */
    .panel-header > h1 {
      text-align: left;
      margin-left: 8px !important;
    }
    
    .panel-header > h1 > span::before {
      content: "";
      background: var(--header-image, none) center / 16px no-repeat;
      -moz-context-properties: fill, fill-opacity;
      fill: currentColor;
      padding-inline-start: calc(var(--fp-enabled, 0) * 16px);
      margin-inline-end: calc(var(--fp-enabled, 0) * 8px);
    }
    
    #PanelUI-fxa .panel-header > h1 > span::before {
      --header-image: var(--avatar-image-url);
      --fp-enabled: 1;
      transform: scale(1.25);
      border-radius: 99px;
      display: inline-block;
      height: 16px;
    }
    #appMenu-fxa-label2::before {
      content: '';
      display: -moz-box;
      height: 16px;
      width: 16px;
      background: var(--avatar-image-url) 0/16px;
      scale: 1.25;
      border-radius: 99px;
    }
    #PanelUI-bookmarks .panel-header > h1 > span::before {
      --header-image: url("bookmark-star-on-tray.svg");
      --fp-enabled: 1;
    }
    
    #PanelUI-history .panel-header > h1 > span::before {
      --header-image: url("history.svg");
      --fp-enabled: 1;
    }
    #appmenu-moreTools .panel-header > h1 > span::before {
      --header-image: url("menu.svg");
      --fp-enabled: 1;
    }
    #report-broken-site-popup-mainView .panel-header > h1 > span::before {
      --header-image: url("report.svg");
      --fp-enabled: 1;
    }
    #PanelUI-helpView .panel-header > h1 > span::before {
      --header-image: url("help.svg");
      --fp-enabled: 1;
    }
    
    #appMenu-libraryView .panel-header > h1 > span::before {
      --header-image: url("library.svg");
      --fp-enabled: 1;
    }
    
    #unified-extensions-panel .panel-header > h1 > span::before {
      --header-image: url("extension.svg");
      --fp-enabled: 1;
    }
    .unified-extensions-context-menu-pin-to-toolbar {
      --menu-image: url("pin.svg");
    }
    .unified-extensions-context-menu-move-widget-down {
      --menu-image: url("arrow-down.svg");
    }
    .unified-extensions-context-menu-move-widget-up {
      --menu-image: url("arrow-up.svg");
    }

      /* Textbox ContextMenu (2025.8.29 fix)*/
      menuitem[data-l10n-id="text-action-undo"] {
        --menu-image: url("edit-undo.svg");
      }
      menuitem[data-l10n-id="text-action-redo"] {
        --menu-image: url("edit-redo.svg");
      }
      menuitem[data-l10n-id="text-action-cut"] {
        --menu-image: url("edit-cut.svg");
      }
      menuitem[data-l10n-id="text-action-copy"] {
        --menu-image: url("edit-copy.svg");
      }
      menuitem[data-l10n-id="text-action-paste"] {
        --menu-image: url("edit-paste.svg");
      }
      menuitem[data-l10n-id="text-action-delete"] {
        --menu-image: url("edit-delete.svg");
      }
      menuitem[data-l10n-id="text-action-select-all"] {
        --menu-image: url("edit-select-all.svg");
      }

      /* —— —— Special icon for Zen —— —— */
      #zen-toolbar-context-tabs-right,
      #sidebar-reverse-position {
        --menu-image: url("tab-right.svg");
      }
      
      #context_zen-add-essential {
        --menu-image: url("essential-add.svg");
      }
      
      #context_zen-remove-essential {
        --menu-image: url("essential-remove.svg");
      }
      
      #context-zen-change-workspace-tab {
        --menu-image: url("move-tab.svg");
      }
      #context_zenSplitTabs,
      #context-zenSplitLink {
        --menu-image: url("split.svg");
      }
      #zenToolbarThemePicker {
        --menu-image: url("customize.svg");
      }
      #zen-context-menu-compact-mode,
      #zen-context-menu-compact-mode-toggle {
        --menu-image: url("compact-mode.svg");
      }

      #zen-toggle-compact-mode {
        list-style-image: url("compact-mode.svg") !important;
      }
      #context_zen-reset-pinned-tab,
      #context_zen-replace-pinned-url-with-current {
        --menu-image: url("reload.svg");
      }
      #zen-context-menu-new-folder,
      #zen-context-menu-new-folder-toolbar {
        --menu-image: url("folder-add.svg");        
      }
    
    /* zen Workspace */
      #context_zenEditWorkspace,
      #context_zen-edit-tab-title {
        --menu-image: url("edit.svg");
      }
      #context_zenEditWorkspaceIcon,
      #context_zen-edit-tab-icon {
        --menu-image: url("image-save.svg");
      }
      #context_zenChangeWorkspaceTheme {
        --menu-image: url("customize.svg");
      }
      #context_zenWorkspacesOpenInContainerTab {
        --menu-image: url("container-tab.svg");
      }
      #context_zenReorderWorkspaces {
        --menu-image: url("sort.svg");
      }
      menupopup#zenWorkspaceMoreActions > menuitem[data-l10n-id="zen-panel-ui-workspaces-create"] {
      /*
      menuitem[data-l10n-id="zen-panel-ui-workspaces-create"] {
      */
        --menu-image: url("plus.svg");
      }
      #context_zenDeleteWorkspace {
        --menu-image: url("edit-delete.svg");
      }

    /* zen Folder */
      #context_zenFolderRename {
        --menu-image: url("edit.svg");
      }
      #context_zenFolderChangeIcon {
        --menu-image: url("image-save.svg");
      }
      #context_zenFolderUnloadAll {
        --menu-image: url("edit-select-all.svg");
      }
      #context_zenFolderNewSubfolder {
        --menu-image: url("folder-add.svg");
      }
      #context_zenFolderUnpack {
        --menu-image: url("folder-unpack.svg");
      }
      #context_zenChangeFolderSpace {
        --menu-image: url("move-tab.svg");
      }
      #context_zenFolderToSpace,
      #convert-folder-to-group {
        --menu-image: url("folder_sync_convert.svg");
      }
      #context_zenFolderDelete {
        --menu-image: url("edit-delete.svg");
      }

      /* Container-Tabs Menu */
      menuitem[data-l10n-id="user-context-none"] {
        background-image: url('new-tab-image.svg') !important;
        background-repeat: no-repeat !important;
        background-size: 16px !important;
        background-position: 11px center !important;
      }
      menuitem[command="Browser:NewUserContextTab"] {
        --menu-image: url('new-tab-image.svg');
      }
      menuitem[command="Browser:OpenAboutContainers"] {
        --menu-image: url('manage.svg');
      }

    /* zen Group(Adapt to Advanced-Tag-Groups) */
    .change-group-color {
      --menu-image: url("color.svg");
    }
    .rename-group {
      --menu-image: url("edit.svg");
    }
    .ungroup-tabs {
      --menu-image: url("folder-unpack.svg");
    }
    .convert-group-to-folder {
      --menu-image: url("folder_sync_convert.svg");
    }
    .change-group-icon {
    --menu-image: url("image-save.svg");
    }

    /* zen Mods */
    #cmi-show-more-menu,
    #cmi-show-more-menu-tab {
      --menu-image: url("menu-bar.svg");
    }
    #quicktabs-context-menuitem,
    #quicktabs-tab-context-menuitem {
      --menu-image: url("ext-link.svg");
    }
    #quicksearch-context-menuitem {
      --menu-image: url("search-glass.svg");
    }      
    #context_renameTab {
      --menu-image: url("edit.svg");
    }
  }


  /*ZenUI*/
  @media (-moz-pref("cmi-Switch-Icon-Package", 2)) {
    :root {
        --zen-contextmenu-menuitem-padding-inline: var(--zenui-icons-leftmargin) !important;
        --zen-contextmenu-menuicon-margin-inline: 3px !important;
        --zen-contextmenu-menuitem-margin: 0px 2px !important;
        --group-padding: var(--zen-contextmenu-menuitem-padding-inline);

        --zen-unload-icon: url("data:image/svg+xml;utf8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22context-fill%22%20fill-opacity%3D%22context-fill-opacity%22%3E%3Cpath%20d%3D%22M5.154%2C2.633c.3755-.1748.8216-.012.9964.3635.1748.3755.012.8216-.3635.9964-1.8371.855-3.0367%2C2.6987-3.0367%2C4.7598%2C0%2C2.898%2C2.3504%2C5.2473%2C5.2498%2C5.2473s5.2498-2.3494%2C5.2498-5.2473c0-2.0569-1.1946-3.8974-3.0259-4.7548-.3751-.1756-.5368-.6221-.3613-.9972.1756-.3751.6221-.5368.9972-.3612%2C2.3537%2C1.102%2C3.8899%2C3.4688%2C3.8899%2C6.1132%2C0%2C3.7265-3.022%2C6.7473-6.7498%2C6.7473S1.2502%2C12.4793%2C1.2502%2C8.7527c0-2.65%2C1.5426-5.0208%2C3.9037-6.1197ZM8%2C.5c.3846%2C0%2C.7016.2895.7449.6625l.005.0875v5.2509c0%2C.4142-.3358.75-.75.75-.3846%2C0-.7016-.2895-.7449-.6625l-.005-.0875V1.25c0-.4142.3358-.75.75-.75Z%22%2F%3E%3C%2Fsvg%3E");
      }

  :not(:not(menubar) > menu, #ContentSelectDropdown)
    > #cmi-show-more-menupopup, #cmi-show-more-menupopup-tab > menuitem,
  :not(:not(menubar) > menu, #ContentSelectDropdown)
    > menupopup
    > menuitem:not(
      .menuitem-iconic,
      [type="checkbox"],
      [type="radio"],
      .in-menulist,
      .in-menulist menuitem,
      .unified-nav-current
    ),
  :not(:not(menubar) > menu, #ContentSelectDropdown)
    > #cmi-show-more-menupopup, #cmi-show-more-menupopup-tab, menupopup
    > menu:not(
      .menu-iconic,
      [type="checkbox"],
      [type="radio"],
      .in-menulist,
      .in-menulist menu,
      .unified-nav-current
    ),
  #toggle_toolbar-menubar,
  #PanelUI-history toolbarbutton,
  #unified-extensions-context-menu {
    background-image: var(--menu-image) !important;
    background-size: 16px !important;
    background-position: var(--zen-contextmenu-menuitem-padding-inline) center !important;
    background-repeat: no-repeat !important;
    -moz-context-properties: fill, fill-opacity !important;
    fill: currentColor !important;
  }  
  menuitem.sine-moved,
  menuitem[id$="-sine-clone"],
  menuitem[class*="sine"] {
      background-image: var(--menu-image) !important;
      background-size: 16px !important;
      background-position: var(--zen-contextmenu-menuitem-padding-inline) center !important;
      background-repeat: no-repeat !important;
      -moz-context-properties: fill, fill-opacity !important;
      fill: currentColor !important;
  } 

    /* Specifying icons to apply for options in Unified Extensions Menu */
    @media not (-moz-platform: linux) {
      .unified-extensions-context-menu-pin-to-toolbar {
        --menu-image: url('zen-icons/pin.svg');
      }
      }
      .unified-extensions-context-menu-move-widget-down {
        --menu-image: url('zen-icons/arrow-down.svg');
      }
      .unified-extensions-context-menu-move-widget-up {
        --menu-image: url('zen-icons/arrow-up.svg');
      }
    

    /* Specifying icons to apply for other context menu options */
    /* Use icons from Zen icon directory - zen-icons/ */
    /* Use icons from Firefox icon directory - chrome://browser/skin/ */
    
      #context_zenSplitTabs {
        --menu-image: url('zen-icons/sidebars-right.svg') !important;
      }
      #viewSort,
      #context-zen-change-workspace-tab {
        --menu-image: url('zen-icons/move-tab.svg') !important;
      }
      #context-zenSplitLink {
        --menu-image: url('zen-icons/split.svg') !important;
      }
      #context-ask-chat,
      #context_askChat {
        --menu-image: url("chrome://browser/skin/trending.svg") !important;
      }
      #context-previewlink,
      #context-zenOpenLinkInGlance {
      --menu-image: url('zen-icons/open.svg') !important;
      }
      #context_zenOpenWorkspace,
      #context_zenOpenWorkspacePanel {
        --menu-image: url('zen-icons/manage.svg') !important;
      }
      .zenToolbarThemePicker,
      #zenToolbarThemePicker {
        --menu-image: url('zen-icons/edit-theme.svg') !important;
      }
      #context-video-pictureinpicture {
        --menu-image: url('zen-icons/media-pip.svg') !important;
      }
      #context-media-loop,
      #request-list-context-resend-only,
      #request-list-context-edit-resend {
        --menu-image: url('zen-icons/media-loop.svg') !important;
      }
      
      #context-savepage {
        --menu-image: url('zen-icons/save.svg');
      }
      #context-selectall,
      menuitem[data-l10n-id="text-action-select-all"],
      #context_selectAllTabs,
      #toolbar-context-selectAllTabs {
        --menu-image: url('zen-icons/edit-select-all.svg');
      }
      #context-add-engine {
        --menu-image: url('zen-icons/search-add.svg');
      }
      #context-undo,
      menuitem[data-l10n-id="text-action-undo"],
      #context_undoCloseTab,
      #toolbar-context-undoCloseTab {
        --menu-image: url('zen-icons/edit-undo.svg');
      }
      #toggle_toolbar-menubar {
        --menu-image: url('zen-icons/menu-bar.svg');
      }
      #context-redo,
      menuitem[data-l10n-id="text-action-redo"],
      #node-menu-scrollnodeintoview,
      #cMenu_findAgain,
      #se-menu-gotoLine {
        --menu-image: url('zen-icons/edit-redo.svg');
      }
      #context-copy,
      menuitem[data-l10n-id="text-action-copy"],
      .textbox-contextmenu #strip-on-share,
      #placesContext_copy,
      menu:has(#node-menu-copyinner,#request-list-context-copy-url),
      #context-copyurl,
      #console-menu-copy,
      #console-menu-copy-object,
      #console-menu-export-clipboard,
      #node-menu-copy-source-url,
      #node-menu-copy-to-clipboard,
      #variable-view-popup-copy {
        --menu-image: url('zen-icons/edit-copy.svg');
      }
      #context-paste,
      menuitem[data-l10n-id="text-action-paste"],
      #placesContext_paste_group,
      #placesContext_paste,
      #context-paste-no-formatting,
      menu:has(#node-menu-pasteinnerhtml) {
        --menu-image: url('zen-icons/edit-paste.svg');
      }
      #context-cut,
      menuitem[data-l10n-id="text-action-cut"],
      #placesContext_cut {
        --menu-image: url('zen-icons/edit-cut.svg');
      }
      #context-delete,
      .customize-context-removeExtension,
      #pageActionContextMenuRemoveExtension,
      .unified-extensions-context-menu-remove-extension,
      menuitem[data-l10n-id="text-action-delete"],
      menuitem[id='placesContext_deleteBookmark'],
      menuitem[id='placesContext_deleteFolder'],
      menuitem[id='placesContext_delete'],
      menuitem[id='placesContext_delete_history'],
      menuitem[id='placesContext_deleteHost'],
      #context_zenDeleteWebPanel,
      #context_zenDeleteWorkspace,
      #placesContext_removeTag,
      #node-menu-delete,
      #storage-table-popup-delete,
      #storage-table-popup-delete-all-from,
      #storage-table-popup-delete-all,
      #storage-table-popup-delete-all-session-cookies,
      #storage-tree-popup-delete-all,
      #storage-tree-popup-delete-all-session-cookies {
        --menu-image: url('zen-icons/edit-delete.svg');
      }
      #paste-and-go {
        --menu-image: url('zen-icons/paste-and-go.svg');
      }
      #context-print-selection {
        --menu-image: url('zen-icons/print.svg');
      }
      #spell-check-enabled {
        --menu-image: url("zen-icons/spell-check.svg");
      }
      #context-take-screenshot,
      #node-menu-screenshotnode {
        --menu-image: url('zen-icons/screenshot.svg');
      }
      #context-viewsource {
        --menu-image: url('zen-icons/source-code.svg');
      }
      #context-inspect-a11y {
        --menu-image: url('zen-icons/accessibility.svg');
      }
      #context-inspect,
      #request-list-context-use-as-fetch {
        --menu-image: url('zen-icons/inspect.svg');
      }
      #context-searchselect,
      #context-visual-search {
        --menu-image: url('zen-icons/search-glass.svg');
      }
      #context-searchselect-private {
        --menu-image: url('zen-icons/search-glass.svg');
      }
      #context-viewimage {
        --menu-image: url('zen-icons/image-open.svg');
      }
      #context-viewimageinfo {
        --menu-image: url('zen-icons/info.svg');
      }
      #context-saveimage,
      #context-video-saveimage {
        --menu-image: url('zen-icons/image-save.svg');
      }
      #context-savevideo {
        --menu-image: url('zen-icons/video-save.svg');
      }
      #context-viewvideo {
        --menu-image: url('zen-icons/video-open.svg');
      }
      #context-saveaudio {
        --menu-image: url('zen-icons/audio-save.svg');
      }
      #context-copyimage-contents {
        --menu-image: url('zen-icons/image-copy.svg');
      }
      #context-copyimage,
      #context-copyvideourl,
      #context-copylink,
      #context-copy-link-to-highlight,
      #context-copy-clean-link-to-highlight,
      #context-stripOnShareLink,
      #context_zenOpenNewTabWebPanel,
      #context-pdfjs-copy {
        --menu-image: url('zen-icons/link.svg');
      }
      #context-openlinkincurrent {
        --menu-image: url('zen-icons/ext-link.svg');
      }
      #context-ask-chat {
        --menu-image: url('chrome://browser/skin/trending.svg');
      }
      #context-translate-selection,
      #appMenu-translate-button {
        --menu-image: url('zen-icons/translations.svg');
      }
      #translations-button-icon {
        background-position: center !important; 
        list-style-image:  url("zen-icons/translations.svg") !important;      
      }
    
      #context-viewsource,
      #context-viewframesource,
      #context-viewpartialsource-selection {
        --menu-image: url('zen-icons/source-code.svg');
      }
      #context-sendimage,
      #context-sendvideo,
      #context-sendaudio {
        /* 💾
        --menu-image: url('zen-icons/mail.svg');
        */
        --menu-image: url('zen-icons/share.svg');
      }
      #context-setDesktopBackground,
      .viewCustomizeToolbar {
        --menu-image: url('zen-icons/customize.svg');
      }
      #context-reloadimage,
      #context_reloadTab,
      #context_reloadSelectedTabs,
      #toolbar-context-reloadSelectedTab,
      #toolbar-context-reloadSelectedTabs,
      #context_zen-reset-pinned-tab {
        --menu-image: url('zen-icons/reload.svg');
      }
      #context-sendlinktodevice,
      #context_sendTabToDevice,
      #context-sendpagetodevice,
      #sidebar-switcher-tabs {
        --menu-image: url('zen-icons/send-to-device.svg');
      }
      #context-openlinkintab,
      #context-openlinkincontainertab,
      #context_zenWebPanelContextInContainer,
      menuitem[id='placesContext_open:newtab'],
      menuitem[id='placesContext_openLinks:tabs'],
      menuitem[id='placesContext_openBookmarkLinks:tabs'],
      menuitem[id='placesContext_openBookmarkContainer:tabs'],
      #placesContext_openContainer\:tabs,
      .openintabs-menuitem,
      #context-openlinknewtab,
      #request-list-context-newtab {
        --menu-image: url('zen-icons/tab.svg');
      }
      #context_openANewTab,
      #toolbar-context-openANewTab {
        --menu-image: url('zen-icons/new-tab-image.svg');
      }
      #context-openlinkinusercontext-menu,
      menu[id='placesContext_open:newcontainertab'],
      menu[id='placesContext_openContainer:tabs'] {
        --menu-image: url('zen-icons/container-tab.svg');
      }
      #context-openlink,
      menuitem[id='placesContext_open:newwindow'] {
        --menu-image: url('zen-icons/window.svg');
      }
      #context-openlinkprivate,
      menuitem[id='placesContext_open:newprivatewindow'] {
        --menu-image: url('zen-icons/private-window.svg');
      }
      #context-savelink,
      #request-list-context-save-as-har,
      #request-list-context-save-all-as-har,
      #request-list-context-save-response-as {
        --menu-image: url('zen-icons/downloads.svg');
      }
      #spell-add-to-dictionary,
      #spell-add-dictionaries,
      #spell-dictionaries {
        --menu-image: url('zen-icons/add-to-dictionary.svg');
      }
      #manage-saved-logins,
      #sidebar-switcher-megalist {
        --menu-image: url('zen-icons/passwords.svg');
      }
      #context-media-play,
      #context_playTab,
      #context_playSelectedTabs {
        --menu-image: url('zen-icons/media-play.svg');
      }
      #context-media-pause {
        --menu-image: url('zen-icons/media-pause.svg');
      }
      #context-media-mute,
      #context_toggleMuteTab,
      #context_toggleMuteSelectedTabs,
      #context_zenToggleMuteWebPanel {
        --menu-image: url('zen-icons/media-mute.svg');
      }
      #context-media-unmute,
      #context_toggleMuteTab[muted],
      #context_toggleMuteSelectedTabs[muted],
      #context_zenToggleMuteWebPanel[muted] {
        --menu-image: url('zen-icons/media-unmute.svg');
      }
      #context-media-playbackrate,
      #request-list-context-perf {
        --menu-image: url('zen-icons/media-speed.svg');
      }
      #context-video-fullscreen {
        --menu-image: url('zen-icons/fullscreen.svg');
      }
      #context-leave-dom-fullscreen,
      menuitem[contexttype='fullscreen'][label*='Exit'] {
        --menu-image: url('zen-icons/fullscreen-exit.svg');
      }
      #context-media-hidecontrols,
      #context-media-showcontrols {
        --menu-image: url('zen-icons/permissions.svg');
      }
      #context_pinTab,
      #context_unpinTab,
      #context_pinSelectedTabs,
      #context_unpinSelectedTabs,
      .customize-context-moveToPanel,
      #context_zen-replace-pinned-url-with-current {
        --menu-image: url('zen-icons/pin.svg');
      }
      #context_zen-add-essential {
        --menu-image: url('zen-icons/essential-add.svg');
      }
      #context_zen-remove-essential {
        --menu-image: url('zen-icons/essential-remove.svg');
      }
      .customize-context-removeFromToolbar {
        --menu-image: url('zen-icons/unpin.svg');
      }
      #zen-sidebar-web-panel-pinned[pinned='true'] {
        list-style-image: url('zen-icons/pin.svg') !important;
      }
      #zen-sidebar-web-panel-pinned {
        list-style-image: url('zen-icons/unpin.svg') !important;
      }
      #context_duplicateTab,
      #context_duplicateTabs,
      #node-menu-duplicatenode {
        --menu-image: url('zen-icons/duplicate-tab.svg');
      }
      #zen-context-menu-compact-mode,
      #zen-context-menu-compact-mode-toggle {
        --menu-image: url('zen-icons/sidebar.svg');
      }
      #context_bookmarkTab,
      #context_bookmarkSelectedTabs,
      #toggle_PersonalToolbar,
      #context-bookmarklink,
      #toolbar-context-bookmarkSelectedTab,
      #toolbar-context-bookmarkSelectedTabs,
      #placesContext_createBookmark {
        --menu-image: url('zen-icons/bookmark-hollow.svg');
      }
      #sidebar-switcher-bookmarks {
        --menu-image: url('zen-icons/bookmark-star-on-tray.svg');
      }
      #sidebar-switcher-history {
        --menu-image: url('zen-icons/history.svg');
      }
      menuitem[id='placesContext_show_bookmark:info'],
      menuitem[id='placesContext_show_folder:info'],
      menuitem[id='placesContext_show:info'],
      #node-menu-edithtml {
        --menu-image: url('zen-icons/edit.svg');
      }
      menuitem[id='placesContext_showAllBookmarks'],
      #BMB_bookmarksShowAllTop,
      #BMB_bookmarksShowAll,
      .customize-context-manageExtension,
      #pageActionContextMenuManageExtension,
      .unified-extensions-context-menu-manage-extension {
        --menu-image: url('zen-icons/manage.svg');
      }
      #BMB_viewBookmarksSidebar {
        --menu-image: url('chrome://browser/skin/sidebars.svg');
      }
      #BMB_searchBookmarks,
      #se-menu-find {
        --menu-image: url('zen-icons/search-page.svg');
      }
      menuitem[id='placesContext_new:bookmark'],
      menuitem[id='placesContext_new:folder'],
      menuitem[id='placesContext_new:separator'],
      #newbookmark,
      #newfolder,
      #newseparator,
      #node-menu-add {
        --menu-image: url('zen-icons/plus.svg');
      }
      #context-savelinktopocket,
      #context-pocket {
        --menu-image: url('zen-icons/pocket-outline.svg');
      }
      
      #context_moveTabOptions {
        --menu-image: url('zen-icons/move-tab.svg');
      }
      #context_ungroupTab {
        --menu-image: url('zen-icons/remove-tab.svg');
      }
      .share-tab-url-item {
        --menu-image: url('zen-icons/share.svg');
      }
      #context_moveTabToNewGroup,
      #context_moveTabToGroup,
      #context_reopenInContainer {
        --menu-image: url('zen-icons/container-tab.svg');
      }
      #context_closeTab,
      #context_closeDuplicateTabs,
      #orgClose,
      #sidebar-menu-close {
        --menu-image: url('zen-icons/close.svg');
      }
      #context_closeTabOptions {
        --menu-image: url('zen-icons/close-all.svg');
      }
      #context_unloadTab,
      #context_zenUnloadWorkspace,
      #context_zenFolderUnloadAll {
        --menu-image: var(--zen-unload-icon);
      }
      .customize-context-reportExtension,
      .unified-extensions-context-menu-report-extension {
        --menu-image: url('zen-icons/report.svg');
      }
    /*
      .wordmark::after {
        content: 'Plus' !important;
      }
    */
      #placesContext_open {
        --menu-image: url('zen-icons/ext-link.svg');
      }
      #placesContext_sortBy\:name {
        --menu-image: url('zen-icons/move-tab.svg');
      }


      /* ZenUI: App Menu Icons */
      #appMenu-new-tab-button2 {
        list-style-image: url("zen-icons/new-tab-image.svg") !important;
      }
      .tab-icon-image[src="chrome://branding/content/icon32.png"],
      .tab-icon-image[src="chrome://browser/skin/privatebrowsing/favicon.svg"]
      {
        content: url("zen-icons/new-tab-image.svg") !important;
      }    
      #new-window-button,
      #appMenu-new-window-button2,
      #appMenu-new-zen-unsynced-window-button {
        list-style-image: url("zen-icons/window.svg") !important;
      }
      #appMenu-new-private-window-button2,
      #PanelUI-zen-profiles-privateWin {
        list-style-image: url("zen-icons/private-window.svg") !important;
      }
      #appMenu-passwords-button,
      #password-notification-icon,
      #PopupAutoComplete > richlistbox > richlistitem[originaltype="generatedPassword"] > .two-line-wrapper > .ac-site-icon,
      #PopupAutoComplete > richlistbox > richlistitem[originaltype="loginWithOrigin"] > .two-line-wrapper > .ac-site-icon,
      #PopupAutoComplete > richlistbox > richlistitem[originaltype="login"] > .ac-site-icon {
        list-style-image: url("zen-icons/passwords.svg") !important;
      }
 
      .identity-popup-security-connection,
      #appMenu-report-broken-site-button {
        list-style-image: url("zen-icons/security-broken.svg") !important;
      }
      #appMenu-help-button2 {
        list-style-image: url("zen-icons/help.svg") !important;
      }

    /*
      #new-window-button,
      #appMenu-new-window-button2,
      #appMenuRecentlyClosedWindows {
        list-style-image: url("zen-icons/window.svg") !important;
      }
    */
      #fxa-manage-account-button {
        background-image: url('chrome://browser/skin/fxa/avatar-empty.svg') !important;
        background-repeat: no-repeat !important;

        background-size: 16px !important;
        background-position: 10px center !important;

        -moz-context-properties: fill, fill-opacity !important;
        fill: currentColor !important;
      }

      #PanelUI-fxa-menu-syncnow-button {
        background-image: url('zen-icons/media-loop.svg') !important;
        background-repeat: no-repeat !important;

        background-size: 16px !important;
        background-position: 11px center !important;

        -moz-context-properties: fill, fill-opacity !important;
        fill: currentColor !important;
      }
      #PanelUI-fxa-menu-connect-device-button {
        list-style-image: url('zen-icons/link.svg') !important;
      }
      #PanelUI-fxa-menu-sendtab-button {
        list-style-image: url('zen-icons/send-to-device.svg') !important;
      }
      #PanelUI-fxa-menu-sync-prefs-button {
        list-style-image: url('zen-icons/settings.svg') !important;
      }
      #PanelUI-fxa-menu-account-signout-button {
        list-style-image: url('chrome://browser/skin/import.svg') !important;
      }
      toolbarbutton[data-l10n-id="appmenu-remote-tabs-show-inactive-tabs"] {
        background-image: var(--zen-unload-icon);
        background-repeat: no-repeat !important;

        background-size: 16px !important;
        background-position: 14px center !important;

        -moz-context-properties: fill, fill-opacity !important;
        fill: currentColor !important;
        
      }
      
      toolbarbutton[data-l10n-id="appmenu-remote-tabs-showmore"] {
        background-image: url('zen-icons/menu.svg') !important;
        background-repeat: no-repeat !important;

        background-size: 16px !important;
        background-position: 14px center !important;

        -moz-context-properties: fill, fill-opacity !important;
        fill: currentColor !important;
      }
      :is(toolbarbutton[data-l10n-id="appmenu-remote-tabs-show-inactive-tabs"],
        toolbarbutton[data-l10n-id="appmenu-remote-tabs-showmore"])
      >.toolbarbutton-icon+.toolbarbutton-text {
        padding-inline-start: 36px !important;
      }
      
      #appmenu-developer-tools-view > toolbarbutton:nth-child(1) {
        list-style-image: url('zen-icons/developer.svg') !important;
      }
      #appmenu-developer-tools-view > toolbarbutton:nth-child(2) {
        list-style-image: url('zen-icons/media-speed.svg') !important;
      }
      #appmenu-developer-tools-view > toolbarbutton:nth-child(3) {
        list-style-image: url('zen-icons/tool-profiler.svg') !important;
      }
      #appmenu-developer-tools-view > toolbarbutton:nth-child(4) {
        list-style-image: url('zen-icons/permissions.svg') !important;
      }
      #appmenu-developer-tools-view > toolbarbutton:nth-child(5) {
        list-style-image: url('zen-icons/inspect.svg') !important;
      }    
      #appmenu-developer-tools-view > toolbarbutton:nth-child(6) {
        list-style-image: url('zen-icons/edit-cut.svg') !important;
      }       
      #appmenu-developer-tools-view > toolbarbutton:nth-child(7) {
        list-style-image: url('zen-icons/edit-theme.svg') !important;
      }        
      #appmenu-developer-tools-view > toolbarbutton:nth-child(8) {
        list-style-image: url('zen-icons/source-code.svg') !important;
      }    
      #appmenu-developer-tools-view > toolbarbutton:nth-child(9) {
        list-style-image: url('zen-icons/extension.svg') !important;
      }
      
      
      #appMenu_feedbackPage {
        list-style-image: url('zen-icons/share.svg') !important;
      }
      #appMenu_helpSafeMode {
        list-style-image: url('zen-icons/search-page.svg') !important;
      }
      #appMenu_troubleShooting {
        list-style-image: url('zen-icons/info.svg') !important;
      }
      #appMenu_menu_HelpPopup_reportPhishingtoolmenu {
        list-style-image: url('zen-icons/security-broken.svg') !important;
      }
      #appMenu_helpSwitchDevice {
        list-style-image: url('zen-icons/send-to-device.svg');
      }
      #appMenu_aboutName {
        list-style-image: url('zen-icons/help.svg') !important;
      }
    
    /* Panel Header Icons */    
    .panel-header > h1 > span::before {
      content: "";
      background: var(--header-image, none) center / 16px no-repeat;
      -moz-context-properties: fill, fill-opacity;
      fill: currentColor;
      padding-inline-start: calc(var(--fp-enabled, 0) * 16px);
      margin-inline-end: calc(var(--fp-enabled, 0) * 8px);
    }
    #appmenu-moreTools .panel-header > h1 > span::before {
      --header-image: url('chrome://browser/skin/zen-icons/menu.svg');
      --fp-enabled: 1;
    }
    #PanelUI-helpView .panel-header > h1 > span::before {
      content: "";
      background: url('zen-icons/help.svg') center / 16px no-repeat !important;
      -moz-context-properties: fill, fill-opacity;
      fill: currentColor;
      padding-inline-start: calc(var(--fp-enabled, 0) * 16px);
      margin-inline-end: calc(var(--fp-enabled, 0) * 8px);
    }

      /* zen Workspace */
      #context_zenEditWorkspace,
      #context_zen-edit-tab-title {
        --menu-image: url('zen-icons/edit.svg');
      }
      #context_zenEditWorkspaceIcon,
      #context_zen-edit-tab-icon {
        --menu-image: url('zen-icons/canvas.svg');
      }
      #context_zenChangeWorkspaceTheme {
        --menu-image: url('zen-icons/customize.svg');
      }
      #context_zenWorkspacesOpenInContainerTab {
        --menu-image: url('zen-icons/container-tab.svg');
      }
      #context_zenReorderWorkspaces {
        --menu-image: url('zen-icons/move-tab.svg');
      }
      menupopup#zenWorkspaceMoreActions > menuitem[data-l10n-id="zen-panel-ui-workspaces-create"] {
      /*
      menuitem[data-l10n-id="zen-panel-ui-workspaces-create"] {
      */
        --menu-image: url('zen-icons/plus.svg');
      }
      #context_zenDeleteWorkspace {
        --menu-image: url('zen-icons/edit-delete.svg');
      }

    /* zen Folder */
    #context_zenFolderRename {
      --menu-image: url('zen-icons/edit.svg');
    }
    #context_zenFolderChangeIcon {
      --menu-image: url('zen-icons/canvas.svg');
    }
    #zen-context-menu-new-folder,
    #zen-context-menu-new-folder-toolbar,      
    #context_zenFolderNewSubfolder,
    #placesContext_showInFolder {
      --menu-image: url('zen-icons/folder.svg');
    }
    #context_zenFolderUnpack {
      --menu-image: url('zen-icons/close-all.svg');
    }
    #context_zenChangeFolderSpace {
      --menu-image: url('zen-icons/move-tab.svg');
    }
    #context_zenFolderToSpace,
    #convert-folder-to-group {
      --menu-image: url('zen-icons/edit-redo.svg');
    }
    #context_zenFolderDelete {
      --menu-image: url('zen-icons/edit-delete.svg');
    }   
    #sidebar-reverse-position,
    #zen-toolbar-context-tabs-right {
      --menu-image: url('chrome://browser/skin/import.svg');
    }  
    
    
    /* Container-Tabs Menu */
    menuitem[data-l10n-id="user-context-none"] {
        background-image: url('zen-icons/tab.svg') !important;
        background-repeat: no-repeat !important;
        background-size: 16px !important;
        background-position: 5px center !important;
    }
    menuitem[command="Browser:NewUserContextTab"] {
      --menu-image: url('zen-icons/tab.svg');
    }
    menuitem[command="Browser:OpenAboutContainers"] {
      --menu-image: url('zen-icons/manage.svg');
    }
    
    /* zen Group(Adapt to Advanced-Tag-Groups) */
    .change-group-color {
      --menu-image: url('zen-icons/edit-theme.svg');
    }
    .rename-group {
      --menu-image: url('zen-icons/edit.svg');
    }
    .ungroup-tabs {
      --menu-image: url('zen-icons/close-all.svg');
    }
    .convert-group-to-folder {
      --menu-image: url('zen-icons/edit-redo.svg');
    }
    .change-group-icon {
    --menu-image: url('zen-icons/canvas.svg');
    }
    
    /* zen Mods */
    #viewColumns,
    #cmi-show-more-menu,
    #cmi-show-more-menu-tab {
      --menu-image: url('zen-icons/menu.svg');
    }
    #quicktabs-context-menuitem,
    #quicktabs-tab-context-menuitem {
      --menu-image: url('zen-icons/ext-link.svg');
    }
    #quicksearch-context-menuitem {
      --menu-image: url('zen-icons/search-glass.svg');
    }    
    #context_renameTab {
      --menu-image: url('zen-icons/edit.svg');
    }
  }
}



/* Preferences */
@media not (-moz-pref("cmi-Disable-Better-Context-Menu",true)){

/* -------------------------- Better Context Menu -------------------------- */
  
:root {
    --tab-action-width: 25%;
    --tab-action-height: 42px;
}
  
/* Base Hover Styling for Menu Items */
:is(menu, menuitem) {
    border-radius: 10px !important;
}

/* Hide "New Tab" Option */
#context_openANewTab {
    display: none !important;
}

/* General Context Menu Layout */
#tabContextMenu {
    width: 280px !important;
}

/* menuseparator style */
/* 💾
menuseparator:first-of-type {
    display: none !important;
}
*/
menuseparator::before {
    opacity: var(--menuseparator-opacity);
}

/* -------------------------- Tab button style -------------------------- */
#tabContextMenu :is(
    #context_reloadTab,
    #context_reloadSelectedTabs,
    #context_zen-add-essential,
    #context_zen-remove-essential,
    #context_pinTab,
    #context_unpinTab,
    #context_pinSelectedTabs,
    #context_unpinSelectedTabs,
    #context_bookmarkTab,
    #context_bookmarkSelectedTabs
) {
    order: -999 !important;
    width: var(--tab-action-width) !important;
    --height: var(--tab-action-height);
    height: var(--height) !important;

    position: relative;
    overflow: hidden;

    background-position: center !important;
    border-radius: 12px !important;
    transition: box-shadow 0.4s ease-in-out;
}

/* Hide menu text */
#tabContextMenu :is(
    #context_reloadTab,
    #context_reloadSelectedTabs,
    #context_zen-add-essential,
    #context_zen-remove-essential,
    #context_pinTab,
    #context_unpinTab,
    #context_pinSelectedTabs,
    #context_unpinSelectedTabs,
    #context_bookmarkTab,
    #context_bookmarkSelectedTabs
) .menu-text {
    display: none !important;
}
menuitem#context_zen-add-essential[badge]::after {
  display: none !important;
  content: "" !important;
}

/* -------------------------- menu separator -------------------------- */
:where(
  #tabContextMenu:has(:is(#context_reloadTab, #context_reloadSelectedTabs):not([hidden])):has(:is(
    #context_pinTab, #context_unpinTab, #context_bookmarkTab,
    #context_pinSelectedTabs, #context_unpinSelectedTabs, #context_bookmarkSelectedTabs
  ):not([hidden]))
) > :nth-child(1 of menuseparator) {
  display: flex !important;
  visibility: visible !important;
  order: -1 !important; /* Only retain the order for direct child elements. */
}



/* Main rule */
/* 1) 单 Tab（含 zen-add/zen-remove）—— 原始：pin margin-left:25% */
#tabContextMenu:has(#context_reloadTab:not([hidden])):has(:is(#context_zen-add-essential,#context_zen-remove-essential):not([hidden])):has(:is(#context_pinTab,#context_unpinTab,#context_bookmarkTab):not([hidden])) {
    /* 单项定位覆盖：保留与原规则一致的 margin */
    #context_reloadTab { margin-left: 0 !important; }
    :is(#context_pinTab, #context_unpinTab) {
        margin-left: 25% !important;
        margin-top: calc(0px - var(--height)) !important;
    }
    #context_zen-remove-essential { margin-left: 37.5% !important; margin-top: calc(0px - var(--height)) !important; }
    #context_zen-add-essential { margin-left: 50% !important; margin-top: calc(0px - var(--height)) !important; }
    #context_bookmarkTab { margin-left: 75% !important; margin-top: calc(0px - var(--height)) !important; }
}

/* 2) 多 Tab 选中（含 zen-add/zen-remove）—— 与 1) 等价布局（复用同样的偏移） */
#tabContextMenu:has(#context_reloadSelectedTabs:not([hidden])):has(:is(#context_zen-add-essential,#context_zen-remove-essential):not([hidden])):has(:is(#context_pinSelectedTabs,#context_unpinSelectedTabs,#context_bookmarkSelectedTabs):not([hidden])) {
    #context_reloadSelectedTabs { margin-left: 0 !important; }
    :is(#context_pinSelectedTabs, #context_unpinSelectedTabs) {
        margin-left: 25% !important;
        margin-top: calc(0px - var(--height)) !important;
    }
    /* zen-add/zen-remove 使用同一 ID，因此不重复列出 "Selected" 变体 */
    #context_zen-remove-essential { margin-left: 37.5% !important; margin-top: calc(0px - var(--height)) !important; }
    #context_zen-add-essential { margin-left: 50% !important; margin-top: calc(0px - var(--height)) !important; }
    #context_bookmarkSelectedTabs { margin-left: 75% !important; margin-top: calc(0px - var(--height)) !important; }
}

/* 3) TabGroup（不包含 zen-add/zen-remove 在排列时的占位）—— pin margin-left:37.5% */
#tabContextMenu:has(#context_reloadTab:not([hidden])):has(:is(#context_pinTab,#context_unpinTab,#context_bookmarkTab):not([hidden])) {
    #context_reloadTab { margin-left: 0 !important; }
    :is(#context_pinTab, #context_unpinTab) {
        margin-left: 37.5% !important;
        margin-top: calc(0px - var(--height)) !important;
    }
    #context_bookmarkTab { margin-left: 75% !important; margin-top: calc(0px - var(--height)) !important; }
}

/* 4) TabGroup 且多选（pinSelected margin-left:37.5%） */
#tabContextMenu:has(#context_reloadSelectedTabs:not([hidden])):has(:is(#context_pinSelectedTabs,#context_unpinSelectedTabs,#context_bookmarkSelectedTabs):not([hidden])) {
    #context_reloadSelectedTabs { margin-left: 0 !important; }
    :is(#context_pinSelectedTabs, #context_unpinSelectedTabs) {
        margin-left: 37.5% !important;
        margin-top: calc(0px - var(--height)) !important;
    }
    #context_bookmarkSelectedTabs { margin-left: 75% !important; margin-top: calc(0px - var(--height)) !important; }
}

/* -------------------------- Gradient Animation Base（::before & :hover） -------------------------- */
#tabContextMenu :is(
    #context_reloadTab,
    #context_reloadSelectedTabs,
    #context_zen-add-essential,
    #context_zen-remove-essential,
    #context_pinTab,
    #context_unpinTab,
    #context_pinSelectedTabs,
    #context_unpinSelectedTabs,
    #context_bookmarkTab,
    #context_bookmarkSelectedTabs
)::before {
    content: "";
    position: absolute;
    inset: 2px;
    border-radius: 12px !important;
    clip-path: inset(-1 round 12px);
    pointer-events: none;

    background: linear-gradient(
        45deg,
        color-mix(in srgb, var(--zen-primary-color) 5%, black),
        color-mix(in srgb, var(--zen-primary-color) 20%, black),
        color-mix(in srgb, var(--zen-primary-color) 50%, black),
        color-mix(in srgb, var(--zen-primary-color) 90%, black),
        color-mix(in srgb, var(--zen-primary-color) 50%, black),
        color-mix(in srgb, var(--zen-primary-color) 15%, black)
    );

    background-size: 400% 400%;
    filter: blur(10px) brightness(1);
    opacity: 0;
    transition: opacity 0.4s ease-in-out;
}

/* Hover Activates Gradient Effect */
#tabContextMenu :is(
    #context_reloadTab,
    #context_reloadSelectedTabs,
    #context_zen-add-essential,
    #context_zen-remove-essential,
    #context_pinTab,
    #context_unpinTab,
    #context_pinSelectedTabs,
    #context_unpinSelectedTabs,
    #context_bookmarkTab,
    #context_bookmarkSelectedTabs
):hover::before {
    opacity: 0.5;
    animation-play-state: running;
}

@keyframes tab-hover-gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}


/* Hover Activates Gradient Effect */
#context_reloadTab:hover::before,
:is(#context_zen-add-essential, #context_zen-remove-essential):hover::before,
:is(#context_pinTab, #context_unpinTab):hover::before,
#context_bookmarkTab:hover::before {
    opacity: 0.5;
    animation-play-state: running;
}

@keyframes tab-hover-gradient {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

}

@media (-moz-pref("cmi-fold_menu_item-enable")) {
  menuitem#context-inspect + menuseparator {
      display: none;
  }
}

/* Hide the inactive items in Context Menu */
@namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");
@media (-moz-pref("cmi-Hide-Inactive-Items-TabContextMenu")) {
  #tabContextMenu > menuitem[disabled]:not(:is(
    #context_zen-add-essential,
    #context_zen-remove-essential,
    #context_zenSplitTabs
  )) {
    visibility: collapse !important;
  }
  #tabContextMenu:has(> menuitem#context_reloadTab:not([hidden]))
    > menuitem#context_zenSplitTabs {
      visibility: collapse !important;
  }
}
@media (-moz-pref("cmi-Hide-Inactive-Items-ContentAreaContextMenu")) {
  #contentAreaContextMenu > menuitem[disabled]
  {
    visibility: collapse !important;
  }
}


@media (-moz-pref("cmi-Grayscale-Extensions-Icons")) {
  :root {
    --grayscale-filter-dark: grayscale(100%) invert(100%) brightness(125%);
    --grayscale-filter-light: grayscale(100%) invert(0%) brightness(100%);
  }
  /* Dark */
  @media (-moz-pref("zen.view.window.scheme", 0)), (-moz-pref("browser.theme.toolbar-theme", 0)) {
    .menu-icon:not(.bookmark-item .menu-icon):not(toolbarbutton.bookmark-item .menu-icon) {
      fill: var(--arrowpanel-icon-color) !important;
      filter: var(--grayscale-filter-dark);
    }
  }
  /* Light */
  @media (-moz-pref("zen.view.window.scheme", 1)), (-moz-pref("browser.theme.toolbar-theme", 1)) {
    .menu-icon:not(.bookmark-item .menu-icon):not(toolbarbutton.bookmark-item .menu-icon) {
      fill: var(--arrowpanel-icon-color) !important;
      filter: var(--grayscale-filter-light);
    }
  }

@media (-moz-pref("zen.view.window.scheme", 2)) {
  :root[zen-theme="dark"] .menu-icon:not(.bookmark-item .menu-icon):not(toolbarbutton.bookmark-item .menu-icon) {
    fill: var(--arrowpanel-icon-color) !important;
    filter: var(--grayscale-filter-dark);
  }
  :root[zen-theme="light"] .menu-icon:not(.bookmark-item .menu-icon):not(toolbarbutton.bookmark-item .menu-icon) {
    fill: var(--arrowpanel-icon-color) !important;
    filter: var(--grayscale-filter-light);
  }
}

@media (-moz-pref("browser.theme.toolbar-theme", 2)) and (-moz-pref("cmi-Switch-Gecko-Branch", 0)) {
  :root[zen-theme="dark"] .menu-icon:not(.bookmark-item .menu-icon):not(toolbarbutton.bookmark-item .menu-icon) {
    fill: var(--arrowpanel-icon-color) !important;
    filter: var(--grayscale-filter-dark);
  }
  :root[zen-theme="light"] .menu-icon:not(.bookmark-item .menu-icon):not(toolbarbutton.bookmark-item .menu-icon) {
    fill: var(--arrowpanel-icon-color) !important;
    filter: var(--grayscale-filter-light);
  }
}

}
  

/*  Preference of Bookmark Toolbar Style */
@media (-moz-pref("cmi-Center-Bookmark-Items")){
  #PlacesToolbarItems {
    justify-content: center !important; 
  }
}
/* Hide Folder Icons */
@media (-moz-pref("cmi-Hide-Folder-Icons")){
  .bookmark-item[container="true"] .toolbarbutton-icon {
    display: none;
  }
}
/* Hide Favcons */
@media (-moz-pref("cmi-Hide-Bookmark-Element", 1)) or (-moz-pref("cmi-Hide-Bookmark-Element", 3)) {
  .bookmark-item:not([container]) .toolbarbutton-icon {
    display: none;
  }
}
/* Hide Bookmark Names */
@media (-moz-pref("cmi-Hide-Bookmark-Element", 2)) or (-moz-pref("cmi-Hide-Bookmark-Element", 3)) {
  #personal-bookmarks .bookmark-item:not([container]) .toolbarbutton-text {
    display: none !important;
  }
}

@media (-moz-pref("cmi-Hide-OAiT-Item")){
  .openintabs-menuitem,
  menuseparator.bookmarks-actions-menuseparator {
    display: none;
  }
}


/* Auto Hide Bookmark-bar */
/* Incorporated this feature into the CMI in v2.2 */
/* This was a feature that I had liked on Firefox even before I switched to Zen. 
However, I found that the implementation method of "Bookmark Toolbar Tweaks" is better. However, it has some bugs and no longer works on the new version of Zen.
I fixed these errors and enhanced some of its features, making it more compatible and having a better appearance. */

@media (not (-moz-pref("cmi-Auto-Hide-BookmarkBar", 0))) {
  @media (not ((-moz-pref("zen.view.use-single-toolbar")))) {
  /* Disabled in the compact mode (hide toolbar) to prevent conflicts. */
    @media (not ((-moz-pref("zen.view.compact.hide-toolbar")) and (-moz-pref("zen.view.compact.enable-at-startup")))) {
    /* Bookmark bar color style */
    @media (-moz-pref("cmi-bookmarks-theme-transparent")) {
      #PersonalToolbar:not([customizing]) {
        background-color: var(--zen-colors-tertiary) !important;
      }
    }

    @media (not (-moz-pref("cmi-bookmarks-theme-transparent"))) {
      #personal-bookmarks toolbarbutton.bookmark-item:not(#OtherBookmarks) {
        border-radius: 11px !important;
        background-color: light-dark(rgba(255,255,255,0.45), rgba(0,0,0,0.55)) !important;
        height: 24px;
      }
    }

    /* Adapt for firefox */
    @media (-moz-pref("cmi-Switch-Gecko-Branch", 0)) {
    #navigator-toolbox {
      z-index: 3 !important;
  /* border-bottom: 0 !important; */
    }
    }
    /* Adapt for Zen (Since zen v1.17.1) */
    @media (-moz-pref("zen.view.compact.enable-at-startup")) {
    #navigator-toolbox {
      height: calc(100% - (var(--zen-element-separation) * 5)) !important;
    }
    }
    /* Bookmark bar Style */  
    #personal-bookmarks
      #PlacesToolbarItems
      > toolbarbutton.bookmark-item:not(
        .subviewbutton,
        [disabled="true"],
        [open]
      ):hover {
        border-radius: 11px !important;
        scale: 1.05 !important;
    }

    #personal-bookmarks
      #PlacesToolbarItems
      > toolbarbutton.bookmark-item:not(
        .subviewbutton,
        [disabled="true"]
      ):hover:active {
        border-radius: 11px !important;
        scale: 1.05 !important;  
        filter: brightness(1.5);
    }

    #personal-bookmarks
      #PlacesToolbarItems
      > toolbarbutton.bookmark-item[open="true"] {
        border-radius: 11px !important;
        scale: 1.05 !important;  
        filter: brightness(1.5);
    }
    

    /* 常态下隐藏书签栏,并避免书签栏影响网页交互 */
      #PersonalToolbar {   
        position: absolute;
      @media (-moz-pref("cmi-Switch-Gecko-Branch", 0)) {
        top: 100% !important; 
      }
        left: 0 !important;
        right: 0 !important;
        opacity: 0 !important;
        transform: rotateX(90deg) !important;
        transform-origin: top;
        transition: 
          opacity 250ms ease-out,
          transform 250ms ease-out !important;
        z-index: 1;
      }


    #PersonalToolbar:has([open]),
    #PersonalToolbar:has([aria-expanded="true"]),
    #PersonalToolbar:has(menupopup[open]),
    #PersonalToolbar:has(menu[open]),
    #PersonalToolbar:has(.bookmark-item[open]),
    #PersonalToolbar:focus-within {
      opacity: 1 !important;
      transform: translateY(0) rotateX(0deg) !important;
    }


    /* Expand the bookmarks toolbar by hovering */
    @media (-moz-pref("cmi-Auto-Hide-BookmarkBar", 1)) or (-moz-pref("cmi-Auto-Hide-BookmarkBar", 3)) {
      #browser:has(#zen-sidebar-top-buttons:hover) #PersonalToolbar {
        opacity: 1 !important;
        transform: rotateX(0deg) !important;
      }
      /* --- CSS Version (When JavaScript cannot be used) --- */
      @media (not (-moz-pref("cmi-AHB-enable-JS",true))) {
        #nav-bar:hover + #PersonalToolbar,
        #PersonalToolbar:hover {
          opacity: 1 !important;
          transform: rotateX(0deg) !important;
        }
        /* Display when drop link (Only supports Zen, does not support Firefox) */  
        #zen-appcontent-navbar-wrapper[zen-has-hover="true"] #PersonalToolbar {
          opacity: 1 !important;
          transform: translateY(0) rotateX(0deg) !important;
        }
      }

      /* --- JS Version (Preferred): Support drag link event, support touch, support Firefox --- */
      @media (-moz-pref("cmi-AHB-enable-JS",true)) {
        body.show-bookmarks #PersonalToolbar {
          opacity: 1 !important;
          transform: translateY(0) rotateX(0deg) !important;
        }    
      }
    }
    }
    /* Expand the bookmarks toolbar when you search */
    @media (-moz-pref("cmi-Auto-Hide-BookmarkBar", 2)) or (-moz-pref("cmi-Auto-Hide-BookmarkBar", 3)) {
      #nav-bar:focus-within + #PersonalToolbar {
        opacity: 1 !important;
        transform: rotateX(0deg) !important;
      }
    }
    
  }
}


/* Other Preferences */
/* Replace the default Firefox logo with a custom one in the identity popup and identity box. */
@media (-moz-pref("cmi-Display-Firefox-Logo", true)) or (-moz-pref("cmi-Switch-Icon-Package", 1)) {
#identity-popup[connection="chrome"] .identity-popup-security-connection,
#identity-box[pageproxystate="valid"].chromeUI #identity-icon {
        list-style-image: url("firefox.svg") !important;
      }
}

/* Restore the button located on the right side of the address bar that is used to initiate the search. */
@media (-moz-pref("cmi-Restore-Search-Button", true)) {
  #urlbar-go-button {
    display: flex !important;
    order: 99 !important;
    height: 30px !important;
    width: 30px !important;
  }
  #urlbar {
    &:not([open]) #urlbar-go-button {
      display: none !important;
    }
  }
}



/* ========================= Global Rule for Context Menu Icons ========================= */
@media (not (-moz-pref("cmi-Switch-Icon-Package", 0))) {
/* Part 1 of global rule */
:root {
  /* FluentUI */
@media (-moz-pref("cmi-Switch-Icon-Package", 1)) {
  --fp-contextmenu-menuitem-padding-inline: var(--fluentui-icons-leftmargin);
  --fp-contextmenu-menuicon-margin-inline: var(--fluentui-text-leftmargin);
  
  --group-padding: var(--fp-contextmenu-menuicon-margin-inline);
}

  --fp-arrowpanel-menuicon-margin-inline: 14px;
  --arrowpanel-menuitem-border-radius: 4px !important;
  --arrowpanel-menuitem-padding-block: 6px !important;
  --arrowpanel-menuitem-padding-inline: 10px !important;
  
@media (-moz-pref("cmi-Switch-Icon-Package", 2)) {
  --fp-contextmenu-menuitem-padding-inline: 10px;
  --fp-contextmenu-menuicon-margin-inline: var(--zenui-text-leftmargin);
}  
}

menu > .menu-iconic-text,
menuitem > .menu-iconic-text,
#context-navigation > .menuitem-iconic::after {
  padding-inline-start: var(--fp-contextmenu-menuicon-margin-inline) !important;
}

/* 校正容器标签页(Container-Tabs)菜单 */
menupopup#new-tab-button-popup,
menupopup#zenWorkspaceMoreActions menupopup,
menupopup#context_reopenInContainerPopupMenu {
/* 普通菜单项 & 子菜单容器，排除图标项、已勾选复选/单选、已分组和高亮项 */
> :is(menuitem, menu):not(
    .menuitem-iconic,
    .menu-iconic,

    [type="checkbox"][checked="true"],
    [type="radio"][checked="true"],

    .in-menulist,
    .in-menulist menuitem,
    .in-menulist menu,
    .unified-nav-current
  ),
/* 分组标题 */
> menucaption {
  padding-inline-start: var(--container-padding) !important;
}
}


/* --- Part 2 of global rule : checkbox ---*/
/* 此规则用来去除原生“√”图标，方便给特殊菜单插入自定义图标,并更容易完成上下文菜单的文本对齐（v1.9.4 new change) 
This rule is used to remove the native "√" icon, making it convenient to insert custom icons for special menus and facilitating the text alignment of context menus.（v1.9.4) */
menuitem:is([type="checkbox"], [type="radio"]):not([checked="true"]) {
  /* 背景图转换已有的变量 --menu-image */
  background-image: var(--menu-image) !important;
  background-repeat: no-repeat !important;
  
  @media (not (-moz-pref("cmi-Switch-Icon-Package", 0))) and (not (-moz-pref("cmi-Switch-Icon-Package", 2))) {background-position: var(--fp-contextmenu-menuitem-padding-inline, left 1em) center !important;}
  @media (-moz-pref("cmi-Switch-Icon-Package", 2)) {background-position: var(--zen-contextmenu-menuitem-padding-inline) center !important;}
  
  background-size: var(--fp-contextmenu-menuitem-icon-size, 16px) !important;

  /* 让 SVG 能够使用 currentColor */
  -moz-context-properties: fill, fill-opacity !important;
  fill: currentColor !important;
/*
  padding-inline-start: unset !important;
  padding-left: unset !important;
*/
}


/* ========== 隐藏内建占位节点，防止"√"占位显示 ==========（Only fix for v1.9.4b)  */
:is(menuitem[type="checkbox"], menuitem[type="radio"]) > .menu-icon,
:is(menuitem[type="checkbox"], menuitem[type="radio"]) > .menu-iconic-left,
:is(menuitem[type="checkbox"], menuitem[type="radio"]) > .menu-iconic {
  display: none !important;
  width: 0 !important;
  margin-inline-start: 0 !important;
  padding: 0 !important;
  opacity: 0 !important;
}

/* ========== 勾选时：移除背景图 ========== （Only fix for v1.9.4b) */
:is(menuitem[type="checkbox"], menuitem[type="radio"])[checked="true"] {
  background-image: none !important;
  /* 保持不触碰间距 */
  padding-inline-start: unset !important;
  padding-left: unset !important;
}

/* —— 屏蔽对子菜单项的影响 —— */
/* —— 全局：禁止任意子菜单继承图标（适用于多层嵌套） —— */
menupopup menupopup{
  --menu-image: initial !important;
  background-image: none !important;
}

/* 设置自定义 checkmark 图标（使用变量：可在两种模式间切换实现方式） */
menupopup > menuitem[type="checkbox"][checked="true"]::before,
menupopup > menuitem[type="radio"][checked="true"]::before {
  content: "" !important;
  display: inline-block;
  width: var(--checkmark-width);
  height: var(--checkmark-height);

  margin-inline-end: var(--checkmark-margin-right);
  vertical-align: middle;

  /* 两种实现共用声明：background-image / mask / background-color 由变量决定 */
  background-image: var(--checkmark-bg-image);
  -moz-context-properties: var(--checkmark-moz-context) !important;
  /* 当使用 SVG fill 时，保留 fill 的回退值 */
  fill: var(--checkmark-fill, currentColor) !important;
  background-repeat: no-repeat;
  background-size: contain;
  /* 定位到图标所在 x 位置 */
  margin-inline-start: var(--checkmark-margin-left);
  position: relative;

  /* mask 与 background-color（若变量为 none，则效果等同于未设置） */
  -webkit-mask: var(--checkmark-mask, none);
  mask: var(--checkmark-mask, none);
  background-color: var(--checkmark-bg-color, transparent);
}

/* ---------------------------
   🌟 Part 3 of global rule
   ---------------------------*/

  /* 1. 排除顶栏菜单和文字选取下拉
     2. 排除下载管理器菜单 / create-new / new-tab 弹出
     3. 排除：已勾选复选/单选、带图标、menulist 内的、unified-nav-current
  */
  :not(:not(menubar) > menu, #ContentSelectDropdown)
    > menupopup:not(#downloadsContextMenu,#zenCreateNewPopup,#new-tab-button-popup,#zenSiteDataActions,#pictureInPictureToggleContextMenu,menupopup[data-l10n-id="popup-notification-more-actions-button"],#viewButton > menupopup:nth-child(1))
    > menuitem:not(
      .menuitem-iconic,
      [type="checkbox"][checked="true"],
      [type="radio"][checked="true"],
      .in-menulist,
      .in-menulist menuitem,
      .unified-nav-current
      ),
  :not(:not(menubar) > menu, #ContentSelectDropdown)
    > menupopup:not(#downloadsContextMenu,#zenCreateNewPopup,#new-tab-button-popup,#zenSiteDataActions,#pictureInPictureToggleContextMenu,menupopup[data-l10n-id="popup-notification-more-actions-button"],#viewButton > menupopup:nth-child(1))
    > menu:not(
      .openintabs-menuitem,

      .menu-iconic,
      [type="checkbox"][checked="true"],
      [type="radio"][checked="true"],
      .in-menulist,
      .in-menulist menu,
      .unified-nav-current
      ),
  :not(:not(menubar) > menu, #ContentSelectDropdown)
    > menupopup:not(#downloadsContextMenu,#zenCreateNewPopup,#new-tab-button-popup,#zenSiteDataActions,#pictureInPictureToggleContextMenu,menupopup[data-l10n-id="popup-notification-more-actions-button"],#viewButton > menupopup:nth-child(1))
    > menucaption {
      padding-inline-start: calc(
        var(--fp-contextmenu-menuitem-padding-inline)
        + var(--menuitem-padding-extra)
        + var(--fp-contextmenu-menuicon-margin-inline)
      ) !important;
  }

  :is(
  #cmi-show-more-menupopup,
  #cmi-show-more-menupopup-tab
  ) > menuitem:not(
    .openintabs-menuitem,
    .menuitem-iconic,
    [type="checkbox"][checked="true"],
    [type="radio"][checked="true"],
    .in-menulist,
    .in-menulist menuitem,
    .unified-nav-current
  ),
  :is(
  #cmi-show-more-menupopup,
  #cmi-show-more-menupopup-tab
  ) > menu:not(
    .openintabs-menuitem,
    .menu-iconic,
    [type="checkbox"][checked="true"],
    [type="radio"][checked="true"],
    .in-menulist,
    .in-menulist menu,
    .unified-nav-current
  ),
  :is(
  #cmi-show-more-menupopup,
  #cmi-show-more-menupopup-tab
  ) > menucaption {
  padding-inline-start: calc(
    var(--fp-contextmenu-menuitem-padding-inline)
    + var(--menuitem-padding-extra)
    + var(--fp-contextmenu-menuicon-margin-inline)
  ) !important;
}

/* ---------------------------
   🌟 Part 4 of global rule : special rules
   ---------------------------*/

@media not (-moz-platform: linux) {
  /* —— 当满足以下任意条件时，给所有子项统一添加内边距 —— */
  :is(
    /* 书签栏 */
    menupopup#placesContext:has(> menuitem:not([hidden])[checked="true"]),
    /* 工具栏 */
    menupopup#toolbar-context-menu:has(> menuitem:not([hidden])[checked="true"]),
    /* 标签栏 */
    menupopup#tabContextMenu:has(> menuitem:not([hidden])[checked="true"]),
    /* 当循环或PIP勾选时 */
    menupopup#contentAreaContextMenu:has(> menuitem:not([hidden])[checked="true"]),
    /* 当拼写检查勾选 */
    menupopup#contentAreaContextMenu:has(> menuitem#spell-check-enabled:is([checked="true"])),
    /* 扩展菜单 */
    menupopup#unified-extensions-context-menu:has(> menuitem:not([hidden])[checked="true"]),
    /* 当下载菜单有项目勾选 */
    menupopup#downloadsContextMenu:has(> menuitem:not([hidden])[checked="true"]),
    /* 浏览器内置翻译器菜单 */
    menupopup#full-page-translations-panel-settings-menupopup:has(> menuitem:not([hidden])[checked="true"]),
    /* Chat bot */
    menupopup#chatbot-menupopup:has(> menuitem:not([hidden])[checked="true"]),
    menupopup#sidebar-history-menu:has(> menuitem:not([hidden])[checked="true"]),
    #mainPopupSet > menupopup:has(> menuitem:not([hidden])[checked="true"])
  
  ) {
    --checkmark-margin-left: var(--checkmark-margin-left_cover);
    --checkmark-margin-right: var(--checkmark-margin-right_cover);
    /* 普通菜单项 & 子菜单容器，排除图标项、已勾选复选/单选、已分组和高亮项 */
    > :is(menuitem, menu):not(
        .menuitem-iconic,
        .menu-iconic,

        [type="checkbox"][checked="true"],
        [type="radio"][checked="true"],

        .in-menulist,
        .in-menulist menuitem,
        .in-menulist menu,
        .unified-nav-current
      ),
      > :is(menuitem, menu):not(
        .menuitem-iconic,
        .menu-iconic,

        [type="checkbox"][checked="true"],
        [type="radio"][checked="true"],

        .in-menulist,
        .in-menulist menuitem,
        .in-menulist menu,
        .unified-nav-current
      ),
    /* 分组标题 */
    > menucaption {
      padding-inline-start: var(--group-padding) !important;
    }
  }
}

/* Linux */
@media (-moz-platform: linux) {
  /* —— 当满足以下任意条件时，给所有子项统一添加内边距 —— */
  :is(
    /* 书签栏 */
    menupopup#placesContext:has(> menuitem:not([hidden])[type="checkbox"]),
    /* 工具栏 */
    menupopup#toolbar-context-menu:has(> menuitem:not([hidden])[type="checkbox"]),
    /* 标签栏 */
    menupopup#tabContextMenu:has(> menuitem:not([hidden])[type="checkbox"]),
    /* 当循环或PIP勾选时 */
    menupopup#contentAreaContextMenu:has(> menuitem:not([hidden])[type="checkbox"]),
    /* 当拼写检查勾选 */
    menupopup#contentAreaContextMenu:has(> menuitem#spell-check-enabled:is([checked="true"])),
    /* 扩展菜单 */
    menupopup#unified-extensions-context-menu:has(> menuitem:not([hidden])[type="checkbox"]),
    /* 当下载菜单有项目勾选 */
    menupopup#downloadsContextMenu:has(> menuitem:not([hidden])[type="checkbox"]),
    /* 浏览器内置翻译器菜单 */
    menupopup#full-page-translations-panel-settings-menupopup:has(> menuitem:not([hidden])[type="checkbox"])，
    /* Chat bot */
    menupopup#chatbot-menupopup:has(> menuitem:not([hidden]):is([type="checkbox"], [type="radio"])),
    menupopup#sidebar-history-menu:has(> menuitem:not([hidden]):is([type="checkbox"], [type="radio"])),
    #mainPopupSet > menupopup:has(> menuitem:not([hidden]):is([type="checkbox"], [type="radio"]))
  ) {
    --checkmark-margin-left: var(--checkmark-margin-left_cover);
    --checkmark-margin-right: var(--checkmark-margin-right_cover);
    /* 普通菜单项 & 子菜单容器，排除图标项、已勾选复选/单选、已分组和高亮项 */
    > :is(menuitem, menu):not(
        .menuitem-iconic,
        .menu-iconic,

        [type="checkbox"][checked="true"],
        [type="radio"][checked="true"],

        .in-menulist,
        .in-menulist menuitem,
        .in-menulist menu,
        .unified-nav-current
      ),
    /* 分组标题 */
    > menucaption {
      padding-inline-start: var(--group-padding) !important;
    }
  }
}


/* =========================================================

   🌟 Part 5 of global rule : special rules for checkbox

   全局：同一 menupopup 中若存在任一未隐藏且已勾选的 checkbox，
   则对同一 menupopup 中其它未隐藏的 checkbox 菜单项应用 padding(fix for v1.9.4)
   可选：可以在上面的 menuitem 选择器里加上 :not(.menuitem-iconic) 进行排除“图标样式”的 menuitem（例如 .menuitem-iconic）。也许后面可能需要这个排除（？）
   ========================================================= */

@media not (-moz-platform: linux) {

/* 当 menupopup 下有被勾选的 checkbox、radio 时，
给同层级未勾选且不是父菜单的 checkbox、radio 子项增加 padding */
menupopup:has(> menuitem:is([type="checkbox"], [type="radio"]):not([hidden])[checked="true"])
> menuitem:is([type="checkbox"], [type="radio"]):not([hidden]):not([checked="true"]):not(:has(menupopup))
> .menu-text,
menupopup:has(> menuitem:is([type="checkbox"], [type="radio"]):not([hidden])[checked="true"])
> menuitem:is([type="checkbox"], [type="radio"]):not([hidden]):not([checked="true"]):not(:has(menupopup))
> .menu-highlightable-text {
padding-inline-start: var(--Non-checkmark-subitems-padding) !important;
box-sizing: border-box !important;
}
}


/* Linux */
@media (-moz-platform: linux) {
/* 当 menupopup 下有未被隐藏的 checkbox、radio 时，
给同层级未勾选且不是父菜单的 checkbox、radio 子项增加 padding */
menupopup:has(> menuitem:is([type="checkbox"], [type="radio"]):not([hidden]))
> menuitem:is([type="checkbox"], [type="radio"]):not([hidden]):not([checked="true"]):not(:has(menupopup))
> .menu-text,
menupopup:has(> menuitem:is([type="checkbox"], [type="radio"]):not([hidden]))
> menuitem:is([type="checkbox"], [type="radio"]):not([hidden]):not([checked="true"]):not(:has(menupopup))
> .menu-highlightable-text {
padding-inline-start: var(--Non-checkmark-subitems-padding) !important;
box-sizing: border-box !important;
}
}


/* App Menu Margin for Firefox */
  .addon-banner-item,
  .panel-banner-item {
    margin: 2px 4px 2px !important;
    padding-inline: 4px 12px !important;
    padding-block: var(--arrowpanel-menuitem-padding-block) !important;
    border-radius: var(--arrowpanel-menuitem-border-radius) !important;
  }

  #appMenu-fxa-label2 label,
  #PanelUI-fxa-menu-syncnow-button label {
    margin-block: 0 !important;
  }

  .widget-overflow-list .toolbarbutton-1:not(.toolbarbutton-combined)>.toolbarbutton-text,
  .subviewbutton:not(#appMenu-zoom-controls > .subviewbutton,
  toolbarbutton[data-l10n-id="appmenu-remote-tabs-showmore"],toolbarbutton[data-l10n-id="appmenu-remote-tabs-show-inactive-tabs"] /* 💾 */
  )>.toolbarbutton-icon+.toolbarbutton-text,
  #appMenu-fxa-label2>vbox {
    padding-inline-start: var(--fp-arrowpanel-menuicon-margin-inline) !important;
  }

  /* special case menuitems with no icons */
  #appMenu-zoom-controls>.toolbarbutton-text,
  #fxa-manage-account-button>vbox,
  #PanelUI-fxa-menu-syncnow-button>hbox {
    padding-inline-start: calc(16px + var(--fp-arrowpanel-menuicon-margin-inline)) !important;
  }
  /* Icons Size
  .subviewbutton>.toolbarbutton-icon {
    width: 16px ;
  }
  */


@media (not (-moz-pref("cmi-Switch-Icon-Package", 2))) {
  #appMenuRecentlyClosedTabs,
  #appMenuRecentlyClosedWindows,
  #appMenuSearchHistory,
  #appMenuClearRecentHistory,
  #PanelUI-historyMore{
    --menu-image: none !important;
  }
}
}


/* Optional: Advanced customization (Force the relocation of the icons from the extensions) */
/* Easily change the positions of the icons in the context menu, as well as the location of the menu text (the distance between the text and the icons) */
@-moz-document url-prefix("chrome://browser/content/browser.xhtml") {
  @namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");
  /*
  :root {
    Icon top and bottom margin
    --zen-cmenu-icon-margin-block: 2px !important; 
    Icons size 
    --zen-cmenu-icon-size: 16px !important;
  }
 */
  /* ==== For all the icons in the context menus (mainly for the icons from the extensions, and then revert to the style of the CMI icons later ==== */
  menupopup > menuitem > .menu-icon,
  menupopup > menu > .menu-icon {
    /* Size 
    width: var(--zen-cmenu-icon-size);
    height: var(--zen-cmenu-icon-size);
    */
    /* Adjust the position of the extension icons (left margin) */
    margin-inline-start: var(--cmi-extension-icon-leftmargin);

    margin-inline-end: var(--zen-extensions-margin-right);
    /*
    margin-block-start: var(--zen-cmenu-icon-margin-block);
    margin-block-end: var(--zen-cmenu-icon-margin-block);
    */

    /* Reset the possible padding */
    padding: 0 !important;
  }

  /* ==== Force all text within context menus that contain expansions to move to the right ( After that, the margin rules of CMI can be used for correction.) ==== */
  menupopup > menuitem .menu-text,
  menupopup > menu .menu-text {
    padding-inline-start: 0 !important; /* Reset the possible padding */
    margin-inline-start: 0 !important;  /* Reset the possible margin */
    /* The position of the menu text */
    padding-inline-start: var(--cmi-menu-text-leftmargin) !important;
  }

}